<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.10.0" />
<title>vectorbt.data.custom API documentation</title>
<meta name="description" content="Custom data classes that subclass `vectorbt.data.base.Data`." />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.0-2/css/all.min.css" integrity="sha256-46r060N2LrChLLb5zowXQ72/iKKNiw/lAmygmHExk/o=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@docsearch/css@alpha" />
<link href='https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.0/normalize.min.css' rel='stylesheet'>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css" integrity="sha256-PK9q560IAAa6WVRRh76LtCaI8pjTJ2z11v0miyNNjrs=" crossorigin>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css" integrity="sha256-7l/o7C8jubJiy74VsKTidCy1yBkRtiUGbVkYBylBqUg=" crossorigin>
<link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/styles/atom-one-dark.min.css" rel="stylesheet">
<style>:root{--highlight-color:#e82;--docsearch-primary-color:#e82;--docsearch-searchbox-focus-background:#ebedf0}body{line-height:1.5em}.version{font-weight:normal;font-style:italic;font-size:.75em;color:#8b949e}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar>*:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #eee;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}h2[id^="header-"]{margin-top:2em}.ident{color:#900}.headerlink{color:inherit}.headerlink:hover{color:inherit}pre code{background:#f8f8f8}.hljs{padding:1.25rem 1.5rem;border:1px solid #eee;border-radius:6px;background:#282c34 !important;color:#9da29e !important;word-break:normal}.hljs-keyword{color:#ff7b72 !important}.hljs-comment{color:#8b949e !important}.hljs-meta{color:#8b949e !important}.python{color:#c5c8c6 !important}code{background:#f2f2f1;padding:1px 4px;font-size:90%}h1 code{background:transparent}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{padding-bottom:.5em;border-bottom:1px solid #e82}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 1.5em}#header-classes+dl>dd{margin-bottom:3em}dd dd{margin-left:1em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name>span:first-child{white-space:nowrap}.name.class>span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-weight:400;font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary>*{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}.badge{display:inline-block;padding:0.25em 0.4em;font-size:75%;font-weight:700;line-height:1;text-align:center;white-space:nowrap;vertical-align:baseline;border-radius:0.25rem;transition:color 0.15s ease-in-out,background-color 0.15s ease-in-out,border-color 0.15s ease-in-out,box-shadow 0.15s ease-in-out}@media (prefers-reduced-motion:reduce){.badge{transition:none}}a.badge:hover,a.badge:focus{text-decoration:none}.badge:empty{display:none}.btn .badge{position:relative;top:-1px}.badge-pill{padding-right:0.6em;padding-left:0.6em;border-radius:10rem}.badge-primary{color:#fff;background-color:#007bff}a.badge-primary:hover,a.badge-primary:focus{color:#fff;background-color:#0062cc}a.badge-primary:focus,a.badge-primary.focus{outline:0;box-shadow:0 0 0 0.2rem rgba(0,123,255,0.5)}.badge-secondary{color:#fff;background-color:#6c757d}a.badge-secondary:hover,a.badge-secondary:focus{color:#fff;background-color:#545b62}a.badge-secondary:focus,a.badge-secondary.focus{outline:0;box-shadow:0 0 0 0.2rem rgba(108,117,125,0.5)}.badge-success{color:#fff;background-color:#28a745}a.badge-success:hover,a.badge-success:focus{color:#fff;background-color:#1e7e34}a.badge-success:focus,a.badge-success.focus{outline:0;box-shadow:0 0 0 0.2rem rgba(40,167,69,0.5)}.badge-info{color:#fff;background-color:#17a2b8}a.badge-info:hover,a.badge-info:focus{color:#fff;background-color:#117a8b}a.badge-info:focus,a.badge-info.focus{outline:0;box-shadow:0 0 0 0.2rem rgba(23,162,184,0.5)}.badge-warning{color:#212529;background-color:#ffc107}a.badge-warning:hover,a.badge-warning:focus{color:#212529;background-color:#d39e00}a.badge-warning:focus,a.badge-warning.focus{outline:0;box-shadow:0 0 0 0.2rem rgba(255,193,7,0.5)}.badge-danger{color:#fff;background-color:#dc3545}a.badge-danger:hover,a.badge-danger:focus{color:#fff;background-color:#bd2130}a.badge-danger:focus,a.badge-danger.focus{outline:0;box-shadow:0 0 0 0.2rem rgba(220,53,69,0.5)}.badge-light{color:#212529;background-color:#f8f9fa}a.badge-light:hover,a.badge-light:focus{color:#212529;background-color:#dae0e5}a.badge-light:focus,a.badge-light.focus{outline:0;box-shadow:0 0 0 0.2rem rgba(248,249,250,0.5)}.badge-dark{color:#fff;background-color:#343a40}a.badge-dark:hover,a.badge-dark:focus{color:#fff;background-color:#1d2124}a.badge-dark:focus,a.badge-dark.focus{outline:0;box-shadow:0 0 0 0.2rem rgba(52,58,64,0.5)}.search-container{width:100%;margin-top:15px;margin-bottom:15px}.DocSearch-Button{width:100%;margin:0px;height:38px}.algolia-autocomplete{width:100%;background:rgba(0,0,0,.2);border:none;border-radius:6px}.algolia-autocomplete input{display:none}.index-caption{color:white}#index a,#index h3,.toc a{color:white}#index a:hover,.toc a:hover{color:#e82}#sidebar{background:#393f4a}.toc ul ul,#index ul{padding-left:1.5em}.toc>ul>li{margin-top:.5em}pre{position:relative;background:#fafafa}pre .btnIcon{position:absolute;top:4px;z-index:2;cursor:pointer;border:1px solid transparent;padding:0;color:#383a42;background-color:transparent;height:30px;transition:all .25s ease-out}pre .btnIcon:hover{text-decoration:none}.btnIcon__body{align-items:center;display:flex;color:#abb2bf}.btnIcon svg{fill:currentColor;margin-right:.4em}.btnIcon__label{font-size:11px}.btnClipboard{right:10px}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{min-width:400px;height:100vh;overflow:visible;position:sticky;top:0}#content{width:100%;max-width:100ch;padding:3em 4em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.scrollable-index{overflow-y:scroll;height:calc(100vh - 250px)}.hljs{margin-left:-15px;margin-right:-15px}.source pre code{margin-left:0px;margin-right:0px}dd{margin:0 0 1em 3em}dd dd{margin-left:2em}.flex{display:flex !important}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-4QLCS0J048"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-4QLCS0J048');
</script>
<style>.homelink{display:block;font-size:2em;font-weight:bold;color:white}.homelink:hover{color:#e82}.homelink img{max-width:100px;max-height:100px;margin:auto;margin-bottom:.3em}</style>
<link rel="apple-touch-icon" sizes="180x180" href="https://raw.githubusercontent.com/polakowo/vectorbt/master/static/favicon/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://raw.githubusercontent.com/polakowo/vectorbt/master/static/favicon/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="https://raw.githubusercontent.com/polakowo/vectorbt/master/static/favicon/favicon-16x16.png">
<link rel="manifest" href="https://raw.githubusercontent.com/polakowo/vectorbt/master/static/favicon/site.webmanifest">
<link rel="icon" href="https://raw.githubusercontent.com/polakowo/vectorbt/master/static/favicon/favicon.ico">
<meta name="msapplication-TileColor" content="#282c34">
<meta name="theme-color" content="#282c34">
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>vectorbt.data.custom</code></h1>
</header>
<section id="section-intro">
<p>Custom data classes that subclass <code><a title="vectorbt.data.base.Data" href="base.html#vectorbt.data.base.Data">Data</a></code>.</p>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python"># Copyright (c) 2021 Oleg Polakow. All rights reserved.
# This code is licensed under Apache 2.0 with Commons Clause license (see LICENSE.md for details)

&#34;&#34;&#34;Custom data classes that subclass `vectorbt.data.base.Data`.&#34;&#34;&#34;

import time
import warnings
from functools import wraps

import numpy as np
import pandas as pd
from tqdm.auto import tqdm

from vectorbt import _typing as tp
from vectorbt.data.base import Data
from vectorbt.utils.config import merge_dicts, get_func_kwargs
from vectorbt.utils.datetime_ import (
    get_utc_tz,
    get_local_tz,
    to_tzaware_datetime,
    datetime_to_ms
)

try:
    from binance.client import Client as ClientT
except ImportError:
    ClientT = tp.Any
try:
    from ccxt.base.exchange import Exchange as ExchangeT
except ImportError:
    ExchangeT = tp.Any


class SyntheticData(Data):
    &#34;&#34;&#34;`Data` for synthetically generated data.&#34;&#34;&#34;

    @classmethod
    def generate_symbol(cls, symbol: tp.Label, index: tp.Index, **kwargs) -&gt; tp.SeriesFrame:
        &#34;&#34;&#34;Abstract method to generate a symbol.&#34;&#34;&#34;
        raise NotImplementedError

    @classmethod
    def download_symbol(cls,
                        symbol: tp.Label,
                        start: tp.DatetimeLike = 0,
                        end: tp.DatetimeLike = &#39;now&#39;,
                        freq: tp.Union[None, str, pd.DateOffset] = None,
                        date_range_kwargs: tp.KwargsLike = None,
                        **kwargs) -&gt; tp.SeriesFrame:
        &#34;&#34;&#34;Download the symbol.

        Generates datetime index and passes it to `SyntheticData.generate_symbol` to fill
        the Series/DataFrame with generated data.&#34;&#34;&#34;
        if date_range_kwargs is None:
            date_range_kwargs = {}
        index = pd.date_range(
            start=to_tzaware_datetime(start, tz=get_utc_tz()),
            end=to_tzaware_datetime(end, tz=get_utc_tz()),
            freq=freq,
            **date_range_kwargs
        )
        if len(index) == 0:
            raise ValueError(&#34;Date range is empty&#34;)
        return cls.generate_symbol(symbol, index, **kwargs)

    def update_symbol(self, symbol: tp.Label, **kwargs) -&gt; tp.SeriesFrame:
        &#34;&#34;&#34;Update the symbol.

        `**kwargs` will override keyword arguments passed to `SyntheticData.download_symbol`.&#34;&#34;&#34;
        download_kwargs = self.select_symbol_kwargs(symbol, self.download_kwargs)
        download_kwargs[&#39;start&#39;] = self.data[symbol].index[-1]
        kwargs = merge_dicts(download_kwargs, kwargs)
        return self.download_symbol(symbol, **kwargs)


def generate_gbm_paths(S0: float, mu: float, sigma: float, T: int, M: int, I: int,
                       seed: tp.Optional[int] = None) -&gt; tp.Array2d:
    &#34;&#34;&#34;Generate using Geometric Brownian Motion (GBM).

    See https://stackoverflow.com/a/45036114/8141780.&#34;&#34;&#34;
    if seed is not None:
        np.random.seed(seed)

    dt = float(T) / M
    paths = np.zeros((M + 1, I), np.float64)
    paths[0] = S0
    for t in range(1, M + 1):
        rand = np.random.standard_normal(I)
        paths[t] = paths[t - 1] * np.exp((mu - 0.5 * sigma ** 2) * dt + sigma * np.sqrt(dt) * rand)
    return paths


class GBMData(SyntheticData):
    &#34;&#34;&#34;`SyntheticData` for data generated using Geometric Brownian Motion (GBM).

    ## Example

    See the example under `BinanceData`.

    ```python-repl
    &gt;&gt;&gt; import vectorbt as vbt

    &gt;&gt;&gt; gbm_data = vbt.GBMData.download(&#39;GBM&#39;, start=&#39;2 hours ago&#39;, end=&#39;now&#39;, freq=&#39;1min&#39;, seed=42)
    &gt;&gt;&gt; gbm_data.get()
    2021-05-02 14:14:15.182089+00:00    102.386605
    2021-05-02 14:15:15.182089+00:00    101.554203
    2021-05-02 14:16:15.182089+00:00    104.765771
    ...                                        ...
    2021-05-02 16:12:15.182089+00:00     51.614839
    2021-05-02 16:13:15.182089+00:00     53.525376
    2021-05-02 16:14:15.182089+00:00     55.615250
    Freq: T, Length: 121, dtype: float64

    &gt;&gt;&gt; import time
    &gt;&gt;&gt; time.sleep(60)

    &gt;&gt;&gt; gbm_data = gbm_data.update()
    &gt;&gt;&gt; gbm_data.get()
    2021-05-02 14:14:15.182089+00:00    102.386605
    2021-05-02 14:15:15.182089+00:00    101.554203
    2021-05-02 14:16:15.182089+00:00    104.765771
    ...                                        ...
    2021-05-02 16:13:15.182089+00:00     53.525376
    2021-05-02 16:14:15.182089+00:00     51.082220
    2021-05-02 16:15:15.182089+00:00     54.725304
    Freq: T, Length: 122, dtype: float64
    ```&#34;&#34;&#34;

    @classmethod
    def generate_symbol(cls,
                        symbol: tp.Label,
                        index: tp.Index,
                        S0: float = 100.,
                        mu: float = 0.,
                        sigma: float = 0.05,
                        T: tp.Optional[int] = None,
                        I: int = 1,
                        seed: tp.Optional[int] = None) -&gt; tp.SeriesFrame:
        &#34;&#34;&#34;Generate the symbol using `generate_gbm_paths`.

        Args:
            symbol (str): Symbol.
            index (pd.Index): Pandas index.
            S0 (float): Value at time 0.

                Does not appear as the first value in the output data.
            mu (float): Drift, or mean of the percentage change.
            sigma (float): Standard deviation of the percentage change.
            T (int): Number of time steps.

                Defaults to the length of `index`.
            I (int): Number of generated paths (columns in our case).
            seed (int): Set seed to make the results deterministic.
        &#34;&#34;&#34;
        if T is None:
            T = len(index)
        out = generate_gbm_paths(S0, mu, sigma, T, len(index), I, seed=seed)[1:]
        if out.shape[1] == 1:
            return pd.Series(out[:, 0], index=index)
        columns = pd.RangeIndex(stop=out.shape[1], name=&#39;path&#39;)
        return pd.DataFrame(out, index=index, columns=columns)

    def update_symbol(self, symbol: tp.Label, **kwargs) -&gt; tp.SeriesFrame:
        &#34;&#34;&#34;Update the symbol.

        `**kwargs` will override keyword arguments passed to `GBMData.download_symbol`.&#34;&#34;&#34;
        download_kwargs = self.select_symbol_kwargs(symbol, self.download_kwargs)
        download_kwargs[&#39;start&#39;] = self.data[symbol].index[-1]
        _ = download_kwargs.pop(&#39;S0&#39;, None)
        S0 = self.data[symbol].iloc[-2]
        _ = download_kwargs.pop(&#39;T&#39;, None)
        download_kwargs[&#39;seed&#39;] = None
        kwargs = merge_dicts(download_kwargs, kwargs)
        return self.download_symbol(symbol, S0=S0, **kwargs)


class YFData(Data):
    &#34;&#34;&#34;`Data` for data coming from `yfinance`.

    Stocks are usually in the timezone &#34;+0500&#34; and cryptocurrencies in UTC.

    !!! warning
        Data coming from Yahoo is not the most stable data out there. Yahoo may manipulate data
        how they want, add noise, return missing data points (see volume in the example below), etc.
        It&#39;s only used in vectorbt for demonstration purposes.

    ## Example

    Fetch the business day except the last 5 minutes of trading data, and then update with the missing 5 minutes:

    ```python-repl
    &gt;&gt;&gt; import vectorbt as vbt

    &gt;&gt;&gt; yf_data = vbt.YFData.download(
    ...     &#34;TSLA&#34;,
    ...     start=&#39;2021-04-12 09:30:00 -0400&#39;,
    ...     end=&#39;2021-04-12 09:35:00 -0400&#39;,
    ...     interval=&#39;1m&#39;
    ... )
    &gt;&gt;&gt; yf_data.get())
                                     Open        High         Low       Close  \\
    Datetime
    2021-04-12 13:30:00+00:00  685.080017  685.679993  684.765015  685.679993
    2021-04-12 13:31:00+00:00  684.625000  686.500000  684.010010  685.500000
    2021-04-12 13:32:00+00:00  685.646790  686.820007  683.190002  686.455017
    2021-04-12 13:33:00+00:00  686.455017  687.000000  685.000000  685.565002
    2021-04-12 13:34:00+00:00  685.690002  686.400024  683.200012  683.715027

                               Volume  Dividends  Stock Splits
    Datetime
    2021-04-12 13:30:00+00:00       0          0             0
    2021-04-12 13:31:00+00:00  152276          0             0
    2021-04-12 13:32:00+00:00  168363          0             0
    2021-04-12 13:33:00+00:00  129607          0             0
    2021-04-12 13:34:00+00:00  134620          0             0

    &gt;&gt;&gt; yf_data = yf_data.update(end=&#39;2021-04-12 09:40:00 -0400&#39;)
    &gt;&gt;&gt; yf_data.get()
                                     Open        High         Low       Close  \\
    Datetime
    2021-04-12 13:30:00+00:00  685.080017  685.679993  684.765015  685.679993
    2021-04-12 13:31:00+00:00  684.625000  686.500000  684.010010  685.500000
    2021-04-12 13:32:00+00:00  685.646790  686.820007  683.190002  686.455017
    2021-04-12 13:33:00+00:00  686.455017  687.000000  685.000000  685.565002
    2021-04-12 13:34:00+00:00  685.690002  686.400024  683.200012  683.715027
    2021-04-12 13:35:00+00:00  683.604980  684.340027  682.760071  684.135010
    2021-04-12 13:36:00+00:00  684.130005  686.640015  683.333984  686.563904
    2021-04-12 13:37:00+00:00  686.530029  688.549988  686.000000  686.635010
    2021-04-12 13:38:00+00:00  686.593201  689.500000  686.409973  688.179993
    2021-04-12 13:39:00+00:00  688.500000  689.347595  687.710022  688.070007

                               Volume  Dividends  Stock Splits
    Datetime
    2021-04-12 13:30:00+00:00       0          0             0
    2021-04-12 13:31:00+00:00  152276          0             0
    2021-04-12 13:32:00+00:00  168363          0             0
    2021-04-12 13:33:00+00:00  129607          0             0
    2021-04-12 13:34:00+00:00       0          0             0
    2021-04-12 13:35:00+00:00  110500          0             0
    2021-04-12 13:36:00+00:00  148384          0             0
    2021-04-12 13:37:00+00:00  243851          0             0
    2021-04-12 13:38:00+00:00  203569          0             0
    2021-04-12 13:39:00+00:00   93308          0             0
    ```
    &#34;&#34;&#34;

    @classmethod
    def download_symbol(cls,
                        symbol: tp.Label,
                        period: str = &#39;max&#39;,
                        start: tp.Optional[tp.DatetimeLike] = None,
                        end: tp.Optional[tp.DatetimeLike] = None,
                        **kwargs) -&gt; tp.Frame:
        &#34;&#34;&#34;Download the symbol.

        Args:
            symbol (str): Symbol.
            period (str): Period.
            start (any): Start datetime.

                See `vectorbt.utils.datetime_.to_tzaware_datetime`.
            end (any): End datetime.

                See `vectorbt.utils.datetime_.to_tzaware_datetime`.
            **kwargs: Keyword arguments passed to `yfinance.base.TickerBase.history`.
        &#34;&#34;&#34;
        import yfinance as yf

        # yfinance still uses mktime, which assumes that the passed date is in local time
        if start is not None:
            start = to_tzaware_datetime(start, tz=get_local_tz())
        if end is not None:
            end = to_tzaware_datetime(end, tz=get_local_tz())

        return yf.Ticker(symbol).history(period=period, start=start, end=end, **kwargs)

    def update_symbol(self, symbol: tp.Label, **kwargs) -&gt; tp.Frame:
        &#34;&#34;&#34;Update the symbol.

        `**kwargs` will override keyword arguments passed to `YFData.download_symbol`.&#34;&#34;&#34;
        download_kwargs = self.select_symbol_kwargs(symbol, self.download_kwargs)
        download_kwargs[&#39;start&#39;] = self.data[symbol].index[-1]
        kwargs = merge_dicts(download_kwargs, kwargs)
        return self.download_symbol(symbol, **kwargs)


BinanceDataT = tp.TypeVar(&#34;BinanceDataT&#34;, bound=&#34;BinanceData&#34;)


class BinanceData(Data):
    &#34;&#34;&#34;`Data` for data coming from `python-binance`.

    ## Example

    Fetch the 1-minute data of the last 2 hours, wait 1 minute, and update:

    ```python-repl
    &gt;&gt;&gt; import vectorbt as vbt

    &gt;&gt;&gt; binance_data = vbt.BinanceData.download(
    ...     &#34;BTCUSDT&#34;,
    ...     start=&#39;2 hours ago UTC&#39;,
    ...     end=&#39;now UTC&#39;,
    ...     interval=&#39;1m&#39;
    ... )
    &gt;&gt;&gt; binance_data.get()
    2021-05-02 14:47:20.478000+00:00 - 2021-05-02 16:47:00+00:00: : 1it [00:00,  3.42it/s]
                                   Open      High       Low     Close     Volume  \\
    Open time
    2021-05-02 14:48:00+00:00  56867.44  56913.57  56857.40  56913.56  28.709976
    2021-05-02 14:49:00+00:00  56913.56  56913.57  56845.94  56888.00  19.734841
    2021-05-02 14:50:00+00:00  56888.00  56947.32  56879.78  56934.71  23.150163
    ...                             ...       ...       ...       ...        ...
    2021-05-02 16:45:00+00:00  56664.13  56666.77  56641.11  56644.03  40.852719
    2021-05-02 16:46:00+00:00  56644.02  56663.43  56605.17  56605.18  27.573654
    2021-05-02 16:47:00+00:00  56605.18  56657.55  56605.17  56627.12   7.719933

                                                    Close time  Quote volume  \\
    Open time
    2021-05-02 14:48:00+00:00 2021-05-02 14:48:59.999000+00:00  1.633534e+06
    2021-05-02 14:49:00+00:00 2021-05-02 14:49:59.999000+00:00  1.122519e+06
    2021-05-02 14:50:00+00:00 2021-05-02 14:50:59.999000+00:00  1.317969e+06
    ...                                                    ...           ...
    2021-05-02 16:45:00+00:00 2021-05-02 16:45:59.999000+00:00  2.314579e+06
    2021-05-02 16:46:00+00:00 2021-05-02 16:46:59.999000+00:00  1.561548e+06
    2021-05-02 16:47:00+00:00 2021-05-02 16:47:59.999000+00:00  4.371848e+05

                               Number of trades  Taker base volume  \\
    Open time
    2021-05-02 14:48:00+00:00               991          13.771152
    2021-05-02 14:49:00+00:00               816           5.981942
    2021-05-02 14:50:00+00:00              1086          10.813757
    ...                                     ...                ...
    2021-05-02 16:45:00+00:00              1006          18.106933
    2021-05-02 16:46:00+00:00               916          14.869411
    2021-05-02 16:47:00+00:00               353           3.903321

                               Taker quote volume
    Open time
    2021-05-02 14:48:00+00:00        7.835391e+05
    2021-05-02 14:49:00+00:00        3.402170e+05
    2021-05-02 14:50:00+00:00        6.156418e+05
    ...                                       ...
    2021-05-02 16:45:00+00:00        1.025892e+06
    2021-05-02 16:46:00+00:00        8.421173e+05
    2021-05-02 16:47:00+00:00        2.210323e+05

    [120 rows x 10 columns]

    &gt;&gt;&gt; import time
    &gt;&gt;&gt; time.sleep(60)

    &gt;&gt;&gt; binance_data = binance_data.update()
    &gt;&gt;&gt; binance_data.get()
                                   Open      High       Low     Close     Volume  \\
    Open time
    2021-05-02 14:48:00+00:00  56867.44  56913.57  56857.40  56913.56  28.709976
    2021-05-02 14:49:00+00:00  56913.56  56913.57  56845.94  56888.00  19.734841
    2021-05-02 14:50:00+00:00  56888.00  56947.32  56879.78  56934.71  23.150163
    ...                             ...       ...       ...       ...        ...
    2021-05-02 16:46:00+00:00  56644.02  56663.43  56605.17  56605.18  27.573654
    2021-05-02 16:47:00+00:00  56605.18  56657.55  56605.17  56625.76  14.615437
    2021-05-02 16:48:00+00:00  56625.75  56643.60  56614.32  56623.01   5.895843

                                                    Close time  Quote volume  \\
    Open time
    2021-05-02 14:48:00+00:00 2021-05-02 14:48:59.999000+00:00  1.633534e+06
    2021-05-02 14:49:00+00:00 2021-05-02 14:49:59.999000+00:00  1.122519e+06
    2021-05-02 14:50:00+00:00 2021-05-02 14:50:59.999000+00:00  1.317969e+06
    ...                                                    ...           ...
    2021-05-02 16:46:00+00:00 2021-05-02 16:46:59.999000+00:00  1.561548e+06
    2021-05-02 16:47:00+00:00 2021-05-02 16:47:59.999000+00:00  8.276017e+05
    2021-05-02 16:48:00+00:00 2021-05-02 16:48:59.999000+00:00  3.338702e+05

                               Number of trades  Taker base volume  \\
    Open time
    2021-05-02 14:48:00+00:00               991          13.771152
    2021-05-02 14:49:00+00:00               816           5.981942
    2021-05-02 14:50:00+00:00              1086          10.813757
    ...                                     ...                ...
    2021-05-02 16:46:00+00:00               916          14.869411
    2021-05-02 16:47:00+00:00               912           7.778489
    2021-05-02 16:48:00+00:00               308           2.358130

                               Taker quote volume
    Open time
    2021-05-02 14:48:00+00:00        7.835391e+05
    2021-05-02 14:49:00+00:00        3.402170e+05
    2021-05-02 14:50:00+00:00        6.156418e+05
    ...                                       ...
    2021-05-02 16:46:00+00:00        8.421173e+05
    2021-05-02 16:47:00+00:00        4.404362e+05
    2021-05-02 16:48:00+00:00        1.335474e+05

    [121 rows x 10 columns]
    ```&#34;&#34;&#34;

    @classmethod
    def download(cls: tp.Type[BinanceDataT],
                 symbols: tp.Labels,
                 client: tp.Optional[&#34;ClientT&#34;] = None,
                 **kwargs) -&gt; BinanceDataT:
        &#34;&#34;&#34;Override `vectorbt.data.base.Data.download` to instantiate a Binance client.&#34;&#34;&#34;
        from binance.client import Client
        from vectorbt._settings import settings
        binance_cfg = settings[&#39;data&#39;][&#39;binance&#39;]

        client_kwargs = dict()
        for k in get_func_kwargs(Client):
            if k in kwargs:
                client_kwargs[k] = kwargs.pop(k)
        client_kwargs = merge_dicts(binance_cfg, client_kwargs)
        if client is None:
            client = Client(**client_kwargs)
        return super(BinanceData, cls).download(symbols, client=client, **kwargs)

    @classmethod
    def download_symbol(cls,
                        symbol: str,
                        client: tp.Optional[&#34;ClientT&#34;] = None,
                        interval: str = &#39;1d&#39;,
                        start: tp.DatetimeLike = 0,
                        end: tp.DatetimeLike = &#39;now UTC&#39;,
                        delay: tp.Optional[float] = 500,
                        limit: int = 500,
                        show_progress: bool = True,
                        tqdm_kwargs: tp.KwargsLike = None) -&gt; tp.Frame:
        &#34;&#34;&#34;Download the symbol.

        Args:
            symbol (str): Symbol.
            client (binance.client.Client): Binance client of type `binance.client.Client`.
            interval (str): Kline interval.

                See `binance.enums`.
            start (any): Start datetime.

                See `vectorbt.utils.datetime_.to_tzaware_datetime`.
            end (any): End datetime.

                See `vectorbt.utils.datetime_.to_tzaware_datetime`.
            delay (float): Time to sleep after each request (in milliseconds).
            limit (int): The maximum number of returned items.
            show_progress (bool): Whether to show the progress bar.
            tqdm_kwargs (dict): Keyword arguments passed to `tqdm`.

        For defaults, see `data.binance` in `vectorbt._settings.settings`.
        &#34;&#34;&#34;
        if client is None:
            raise ValueError(&#34;client must be provided&#34;)

        if tqdm_kwargs is None:
            tqdm_kwargs = {}
        # Establish the timestamps
        start_ts = datetime_to_ms(to_tzaware_datetime(start, tz=get_utc_tz()))
        try:
            first_data = client.get_klines(
                symbol=symbol,
                interval=interval,
                limit=1,
                startTime=0,
                endTime=None
            )
            first_valid_ts = first_data[0][0]
            next_start_ts = start_ts = max(start_ts, first_valid_ts)
        except:
            next_start_ts = start_ts
        end_ts = datetime_to_ms(to_tzaware_datetime(end, tz=get_utc_tz()))

        def _ts_to_str(ts: tp.DatetimeLike) -&gt; str:
            return str(pd.Timestamp(to_tzaware_datetime(ts, tz=get_utc_tz())))

        # Iteratively collect the data
        data: tp.List[list] = []
        with tqdm(disable=not show_progress, **tqdm_kwargs) as pbar:
            pbar.set_description(_ts_to_str(start_ts))
            while True:
                # Fetch the klines for the next interval
                next_data = client.get_klines(
                    symbol=symbol,
                    interval=interval,
                    limit=limit,
                    startTime=next_start_ts,
                    endTime=end_ts
                )
                if len(data) &gt; 0:
                    next_data = list(filter(lambda d: next_start_ts &lt; d[0] &lt; end_ts, next_data))
                else:
                    next_data = list(filter(lambda d: d[0] &lt; end_ts, next_data))

                # Update the timestamps and the progress bar
                if not len(next_data):
                    break
                data += next_data
                pbar.set_description(&#34;{} - {}&#34;.format(
                    _ts_to_str(start_ts),
                    _ts_to_str(next_data[-1][0])
                ))
                pbar.update(1)
                next_start_ts = next_data[-1][0]
                if delay is not None:
                    time.sleep(delay / 1000)  # be kind to api

        # Convert data to a DataFrame
        df = pd.DataFrame(data, columns=[
            &#39;Open time&#39;,
            &#39;Open&#39;,
            &#39;High&#39;,
            &#39;Low&#39;,
            &#39;Close&#39;,
            &#39;Volume&#39;,
            &#39;Close time&#39;,
            &#39;Quote volume&#39;,
            &#39;Number of trades&#39;,
            &#39;Taker base volume&#39;,
            &#39;Taker quote volume&#39;,
            &#39;Ignore&#39;
        ])
        df.index = pd.to_datetime(df[&#39;Open time&#39;], unit=&#39;ms&#39;, utc=True)
        del df[&#39;Open time&#39;]
        df[&#39;Open&#39;] = df[&#39;Open&#39;].astype(float)
        df[&#39;High&#39;] = df[&#39;High&#39;].astype(float)
        df[&#39;Low&#39;] = df[&#39;Low&#39;].astype(float)
        df[&#39;Close&#39;] = df[&#39;Close&#39;].astype(float)
        df[&#39;Volume&#39;] = df[&#39;Volume&#39;].astype(float)
        df[&#39;Close time&#39;] = pd.to_datetime(df[&#39;Close time&#39;], unit=&#39;ms&#39;, utc=True)
        df[&#39;Quote volume&#39;] = df[&#39;Quote volume&#39;].astype(float)
        df[&#39;Number of trades&#39;] = df[&#39;Number of trades&#39;].astype(int)
        df[&#39;Taker base volume&#39;] = df[&#39;Taker base volume&#39;].astype(float)
        df[&#39;Taker quote volume&#39;] = df[&#39;Taker quote volume&#39;].astype(float)
        del df[&#39;Ignore&#39;]

        return df

    def update_symbol(self, symbol: str, **kwargs) -&gt; tp.Frame:
        &#34;&#34;&#34;Update the symbol.

        `**kwargs` will override keyword arguments passed to `BinanceData.download_symbol`.&#34;&#34;&#34;
        download_kwargs = self.select_symbol_kwargs(symbol, self.download_kwargs)
        download_kwargs[&#39;start&#39;] = self.data[symbol].index[-1]
        download_kwargs[&#39;show_progress&#39;] = False
        kwargs = merge_dicts(download_kwargs, kwargs)
        return self.download_symbol(symbol, **kwargs)


class CCXTData(Data):
    &#34;&#34;&#34;`Data` for data coming from `ccxt`.

    ## Example

    Fetch the 1-minute data of the last 2 hours, wait 1 minute, and update:

    ```python-repl
    &gt;&gt;&gt; import vectorbt as vbt

    &gt;&gt;&gt; ccxt_data = vbt.CCXTData.download(
    ...     &#34;BTC/USDT&#34;,
    ...     start=&#39;2 hours ago UTC&#39;,
    ...     end=&#39;now UTC&#39;,
    ...     timeframe=&#39;1m&#39;
    ... )
    &gt;&gt;&gt; ccxt_data.get()
    2021-05-02 14:50:26.305000+00:00 - 2021-05-02 16:50:00+00:00: : 1it [00:00,  1.96it/s]
                                   Open      High       Low     Close     Volume
    Open time
    2021-05-02 14:51:00+00:00  56934.70  56964.59  56910.00  56948.99  22.158319
    2021-05-02 14:52:00+00:00  56948.99  56999.00  56940.04  56977.62  46.958464
    2021-05-02 14:53:00+00:00  56977.61  56987.09  56882.98  56885.42  27.752200
    ...                             ...       ...       ...       ...        ...
    2021-05-02 16:48:00+00:00  56625.75  56643.60  56595.47  56596.01  15.452510
    2021-05-02 16:49:00+00:00  56596.00  56664.14  56596.00  56640.35  12.777475
    2021-05-02 16:50:00+00:00  56640.35  56675.82  56640.35  56670.65   6.882321

    [120 rows x 5 columns]

    &gt;&gt;&gt; import time
    &gt;&gt;&gt; time.sleep(60)

    &gt;&gt;&gt; ccxt_data = ccxt_data.update()
    &gt;&gt;&gt; ccxt_data.get()
                                   Open      High       Low     Close     Volume
    Open time
    2021-05-02 14:51:00+00:00  56934.70  56964.59  56910.00  56948.99  22.158319
    2021-05-02 14:52:00+00:00  56948.99  56999.00  56940.04  56977.62  46.958464
    2021-05-02 14:53:00+00:00  56977.61  56987.09  56882.98  56885.42  27.752200
    ...                             ...       ...       ...       ...        ...
    2021-05-02 16:49:00+00:00  56596.00  56664.14  56596.00  56640.35  12.777475
    2021-05-02 16:50:00+00:00  56640.35  56689.99  56640.35  56678.33  14.610231
    2021-05-02 16:51:00+00:00  56678.33  56688.99  56636.89  56653.42  11.647158

    [121 rows x 5 columns]
    ```&#34;&#34;&#34;

    @classmethod
    def download_symbol(cls,
                        symbol: str,
                        exchange: tp.Union[str, &#34;ExchangeT&#34;] = &#39;binance&#39;,
                        config: tp.Optional[dict] = None,
                        timeframe: str = &#39;1d&#39;,
                        start: tp.DatetimeLike = 0,
                        end: tp.DatetimeLike = &#39;now UTC&#39;,
                        delay: tp.Optional[float] = None,
                        limit: tp.Optional[int] = 500,
                        retries: int = 3,
                        show_progress: bool = True,
                        params: tp.Optional[dict] = None,
                        tqdm_kwargs: tp.KwargsLike = None) -&gt; tp.Frame:
        &#34;&#34;&#34;Download the symbol.

        Args:
            symbol (str): Symbol.
            exchange (str or object): Exchange identifier or an exchange object of type
                `ccxt.base.exchange.Exchange`.
            config (dict): Config passed to the exchange upon instantiation.

                Will raise an exception if exchange has been already instantiated.
            timeframe (str): Timeframe supported by the exchange.
            start (any): Start datetime.

                See `vectorbt.utils.datetime_.to_tzaware_datetime`.
            end (any): End datetime.

                See `vectorbt.utils.datetime_.to_tzaware_datetime`.
            delay (float): Time to sleep after each request (in milliseconds).

                !!! note
                    Use only if `enableRateLimit` is not set.
            limit (int): The maximum number of returned items.
            retries (int): The number of retries on failure to fetch data.
            show_progress (bool): Whether to show the progress bar.
            tqdm_kwargs (dict): Keyword arguments passed to `tqdm`.
            params (dict): Exchange-specific key-value parameters.

        For defaults, see `data.ccxt` in `vectorbt._settings.settings`.
        &#34;&#34;&#34;
        import ccxt
        from vectorbt._settings import settings
        ccxt_cfg = settings[&#39;data&#39;][&#39;ccxt&#39;]

        if config is None:
            config = {}
        if tqdm_kwargs is None:
            tqdm_kwargs = {}
        if params is None:
            params = {}
        if isinstance(exchange, str):
            if not hasattr(ccxt, exchange):
                raise ValueError(f&#34;Exchange {exchange} not found&#34;)
            # Resolve config
            default_config = {}
            for k, v in ccxt_cfg.items():
                # Get general (not per exchange) settings
                if k in ccxt.exchanges:
                    continue
                default_config[k] = v
            if exchange in ccxt_cfg:
                default_config = merge_dicts(default_config, ccxt_cfg[exchange])
            config = merge_dicts(default_config, config)
            exchange = getattr(ccxt, exchange)(config)
        else:
            if len(config) &gt; 0:
                raise ValueError(&#34;Cannot apply config after instantiation of the exchange&#34;)
        if not exchange.has[&#39;fetchOHLCV&#39;]:
            raise ValueError(f&#34;Exchange {exchange} does not support OHLCV&#34;)
        if timeframe not in exchange.timeframes:
            raise ValueError(f&#34;Exchange {exchange} does not support {timeframe} timeframe&#34;)
        if exchange.has[&#39;fetchOHLCV&#39;] == &#39;emulated&#39;:
            warnings.warn(&#34;Using emulated OHLCV candles&#34;, stacklevel=2)

        def _retry(method):
            @wraps(method)
            def retry_method(*args, **kwargs):
                for i in range(retries):
                    try:
                        return method(*args, **kwargs)
                    except (ccxt.NetworkError, ccxt.ExchangeError) as e:
                        if i == retries - 1:
                            raise e
                    if delay is not None:
                        time.sleep(delay / 1000)

            return retry_method

        @_retry
        def _fetch(_since, _limit):
            return exchange.fetch_ohlcv(
                symbol,
                timeframe=timeframe,
                since=_since,
                limit=_limit,
                params=params
            )

        # Establish the timestamps
        start_ts = datetime_to_ms(to_tzaware_datetime(start, tz=get_utc_tz()))
        try:
            first_data = _fetch(0, 1)
            first_valid_ts = first_data[0][0]
            next_start_ts = start_ts = max(start_ts, first_valid_ts)
        except:
            next_start_ts = start_ts
        end_ts = datetime_to_ms(to_tzaware_datetime(end, tz=get_utc_tz()))

        def _ts_to_str(ts):
            return str(pd.Timestamp(to_tzaware_datetime(ts, tz=get_utc_tz())))

        # Iteratively collect the data
        data: tp.List[list] = []
        with tqdm(disable=not show_progress, **tqdm_kwargs) as pbar:
            pbar.set_description(_ts_to_str(start_ts))
            while True:
                # Fetch the klines for the next interval
                next_data = _fetch(next_start_ts, limit)
                if len(data) &gt; 0:
                    next_data = list(filter(lambda d: next_start_ts &lt; d[0] &lt; end_ts, next_data))
                else:
                    next_data = list(filter(lambda d: d[0] &lt; end_ts, next_data))

                # Update the timestamps and the progress bar
                if not len(next_data):
                    break
                data += next_data
                pbar.set_description(&#34;{} - {}&#34;.format(
                    _ts_to_str(start_ts),
                    _ts_to_str(next_data[-1][0])
                ))
                pbar.update(1)
                next_start_ts = next_data[-1][0]
                if delay is not None:
                    time.sleep(delay / 1000)  # be kind to api

        # Convert data to a DataFrame
        df = pd.DataFrame(data, columns=[
            &#39;Open time&#39;,
            &#39;Open&#39;,
            &#39;High&#39;,
            &#39;Low&#39;,
            &#39;Close&#39;,
            &#39;Volume&#39;
        ])
        df.index = pd.to_datetime(df[&#39;Open time&#39;], unit=&#39;ms&#39;, utc=True)
        del df[&#39;Open time&#39;]
        df[&#39;Open&#39;] = df[&#39;Open&#39;].astype(float)
        df[&#39;High&#39;] = df[&#39;High&#39;].astype(float)
        df[&#39;Low&#39;] = df[&#39;Low&#39;].astype(float)
        df[&#39;Close&#39;] = df[&#39;Close&#39;].astype(float)
        df[&#39;Volume&#39;] = df[&#39;Volume&#39;].astype(float)

        return df

    def update_symbol(self, symbol: str, **kwargs) -&gt; tp.Frame:
        &#34;&#34;&#34;Update the symbol.

        `**kwargs` will override keyword arguments passed to `CCXTData.download_symbol`.&#34;&#34;&#34;
        download_kwargs = self.select_symbol_kwargs(symbol, self.download_kwargs)
        download_kwargs[&#39;start&#39;] = self.data[symbol].index[-1]
        download_kwargs[&#39;show_progress&#39;] = False
        kwargs = merge_dicts(download_kwargs, kwargs)
        return self.download_symbol(symbol, **kwargs)

class AlpacaData(Data):
    &#34;&#34;&#34;`Data` for data coming from `alpaca-trade-api`. 
    Sign up for Alpaca API keys here: https://app.alpaca.markets/signup
    
    ## Example

    Fetch the 1-minute data of the last 2 hours, wait 1 minute, and update:

    ```python-repl
    &gt;&gt;&gt; import vectorbt as vbt

    &gt;&gt;&gt; alpaca_data = vbt.AlpacaData.download(
    ...     &#34;AAPL&#34;,
    ...     start=&#39;2 hours ago UTC&#39;,
    ...     end=&#39;15 minutes ago UTC&#39;,
    ...     interval=&#39;1m&#39;
    ... )
    &gt;&gt;&gt; alpaca_data.get()
                                Open      High       Low     Close      Volume
    timestamp                                                                
    2021-12-27 14:04:00+00:00  177.0500  177.0500  177.0500  177.0500    1967
    2021-12-27 14:05:00+00:00  177.0500  177.0500  177.0300  177.0500    3218
    2021-12-27 14:06:00+00:00  177.0400  177.0400  177.0400  177.0400     873
    2021-12-27 14:07:00+00:00  177.0399  177.0400  177.0300  177.0400    1100
    2021-12-27 14:08:00+00:00  177.0400  177.0400  176.9700  176.9900   19943
    ...                             ...       ...       ...       ...     ...
    2021-12-27 15:44:00+00:00  178.0000  178.0079  177.9311  177.9710  106395
    2021-12-27 15:45:00+00:00  177.9700  178.0564  177.9430  177.9600  153325
    2021-12-27 15:46:00+00:00  177.9500  178.0000  177.8289  177.8850  162778
    2021-12-27 15:47:00+00:00  177.8810  177.9600  177.8400  177.9515  123284
    2021-12-27 15:48:00+00:00  177.9600  178.0500  177.9600  178.0100  159700

    [105 rows x 5 columns]

    &gt;&gt;&gt; import time
    &gt;&gt;&gt; time.sleep(60)

    &gt;&gt;&gt; alpaca_data = alpaca_data.update()
    &gt;&gt;&gt; alpaca_data.get()
                                Open      High       Low     Close      Volume
    timestamp                                                                
    2021-12-27 14:04:00+00:00  177.0500  177.0500  177.0500  177.0500    1967
    2021-12-27 14:05:00+00:00  177.0500  177.0500  177.0300  177.0500    3218
    2021-12-27 14:06:00+00:00  177.0400  177.0400  177.0400  177.0400     873
    2021-12-27 14:07:00+00:00  177.0399  177.0400  177.0300  177.0400    1100
    2021-12-27 14:08:00+00:00  177.0400  177.0400  176.9700  176.9900   19943
    ...                             ...       ...       ...       ...     ...
    2021-12-27 15:45:00+00:00  177.9700  178.0564  177.9430  177.9600  153325
    2021-12-27 15:46:00+00:00  177.9500  178.0000  177.8289  177.8850  162778
    2021-12-27 15:47:00+00:00  177.8810  177.9600  177.8400  177.9515  123284
    2021-12-27 15:48:00+00:00  177.9600  178.0500  177.9600  178.0100  159700
    2021-12-27 15:49:00+00:00  178.0100  178.0700  177.9700  178.0650  185037

    [106 rows x 5 columns]
    ```&#34;&#34;&#34;

    @classmethod
    def download_symbol(cls,
                        symbol: str,
                        timeframe: str = &#39;1d&#39;,
                        start: tp.DatetimeLike = 0,
                        end: tp.DatetimeLike = &#39;now UTC&#39;,
                        adjustment: tp.Optional[str] = &#39;all&#39;,
                        limit: int = 500,
                        exchange: tp.Optional[str] = &#39;CBSE&#39;,
                        **kwargs) -&gt; tp.Frame:
        &#34;&#34;&#34;Download the symbol.

        Args:
            symbol (str): Symbol.
            timeframe (str): Timeframe of data. Must be integer multiple of &#39;m&#39; (minute), &#39;h&#39; (hour) or &#39;d&#39; (day). i.e. &#39;15m&#39; 
                Note: Data from the latest 15 minutes is not available with a free data plan.
                See: https://alpaca.markets/data

            start (any): Start datetime.

                See `vectorbt.utils.datetime_.to_tzaware_datetime`.
            end (any): End datetime.

                See `vectorbt.utils.datetime_.to_tzaware_datetime`.
            adjustment (str): Specifies the corporate action adjustment for the stocks. 
                Enum: `raw`, `split`, `dividend` or `all`.
            limit (int): The maximum number of returned items.
            exchange (str): For crypto symbols. Which exchange you wish to retrieve data from.
                Enum: `FTX`, `ERSX`, `CBSE`

        For defaults, see `data.alpaca` in `vectorbt._settings.settings`.
        &#34;&#34;&#34;
        from vectorbt._settings import settings
        from alpaca_trade_api.rest import TimeFrameUnit, TimeFrame, REST
        
        alpaca_cfg = settings[&#39;data&#39;][&#39;alpaca&#39;]
        
        client_kwargs = dict()
        for k in get_func_kwargs(REST):
            if k in kwargs:
                client_kwargs[k] = kwargs.pop(k)

        client_kwargs = merge_dicts(alpaca_cfg, client_kwargs)
        
        client = REST(**client_kwargs)

        _timeframe_units = {&#39;d&#39;: TimeFrameUnit.Day, &#39;h&#39;: TimeFrameUnit.Hour, &#39;m&#39;: TimeFrameUnit.Minute}

        if len(timeframe) &lt; 2:
            raise ValueError(&#34;invalid timeframe&#34;)
            
        amount_str = timeframe[:-1]
        unit_str = timeframe[-1]

        if not amount_str.isnumeric() or unit_str not in _timeframe_units:
            raise ValueError(&#34;invalid timeframe&#34;)
        
        amount = int(amount_str)
        unit = _timeframe_units[unit_str]

        _timeframe = TimeFrame(amount, unit)

        start_ts = to_tzaware_datetime(start, tz=get_utc_tz()).isoformat()
        end_ts = to_tzaware_datetime(end, tz=get_utc_tz()).isoformat()

        
        def _is_crypto_symbol(symbol):
            return len(symbol) == 6 and &#34;USD&#34; in symbol

        if _is_crypto_symbol(symbol):
            df = client.get_crypto_bars(symbol=symbol,
                                    timeframe=_timeframe,
                                    start=start_ts,
                                    end=end_ts,
                                    limit=limit,
                                    exchanges=exchange).df
        else:
            df = client.get_bars(symbol=symbol, 
                                timeframe=_timeframe,
                                start=start_ts,
                                end=end_ts,
                                adjustment=adjustment, 
                                limit=limit).df
        
        # filter for OHLCV
        # remove extra columns
        df.drop([&#39;trade_count&#39;, &#39;vwap&#39;], axis=1, errors=&#39;ignore&#39;, inplace=True)

        # capitalize
        df.rename(columns={&#39;open&#39;: &#39;Open&#39;, &#39;high&#39;: &#39;High&#39;, &#39;low&#39;: &#39;Low&#39;, &#39;close&#39;: &#39;Close&#39;, &#39;volume&#39;: &#39;Volume&#39;, &#39;exchange&#39;:&#39;Exchange&#39;}, inplace=True)

        df[&#39;Open&#39;] = df[&#39;Open&#39;].astype(float)
        df[&#39;High&#39;] = df[&#39;High&#39;].astype(float)
        df[&#39;Low&#39;] = df[&#39;Low&#39;].astype(float)
        df[&#39;Close&#39;] = df[&#39;Close&#39;].astype(float)
        df[&#39;Volume&#39;] = df[&#39;Volume&#39;].astype(float)

        return df



    def update_symbol(self, symbol: str, **kwargs) -&gt; tp.Frame:
        &#34;&#34;&#34;Update the symbol.

        `**kwargs` will override keyword arguments passed to `AlpacaData.download_symbol`.&#34;&#34;&#34;
        download_kwargs = self.select_symbol_kwargs(symbol, self.download_kwargs)
        download_kwargs[&#39;start&#39;] = self.data[symbol].index[-1]
        download_kwargs[&#39;show_progress&#39;] = False
        kwargs = merge_dicts(download_kwargs, kwargs)
        return self.download_symbol(symbol, **kwargs)</code></pre>
</details>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-functions">Functions</h2>
<dl>
<dt id="vectorbt.data.custom.generate_gbm_paths"><code class="name flex">
<span>def <span class="ident parent-name">generate_gbm_paths</span></span>(<span class="params">S0, mu, sigma, T, M, I, seed=None)</span><span class="return_type"></span>
</code></dt>
<dd>
<div class="desc"><p>Generate using Geometric Brownian Motion (GBM).</p>
<p>See <a href="https://stackoverflow.com/a/45036114/8141780.">https://stackoverflow.com/a/45036114/8141780.</a></p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def generate_gbm_paths(S0: float, mu: float, sigma: float, T: int, M: int, I: int,
                       seed: tp.Optional[int] = None) -&gt; tp.Array2d:
    &#34;&#34;&#34;Generate using Geometric Brownian Motion (GBM).

    See https://stackoverflow.com/a/45036114/8141780.&#34;&#34;&#34;
    if seed is not None:
        np.random.seed(seed)

    dt = float(T) / M
    paths = np.zeros((M + 1, I), np.float64)
    paths[0] = S0
    for t in range(1, M + 1):
        rand = np.random.standard_normal(I)
        paths[t] = paths[t - 1] * np.exp((mu - 0.5 * sigma ** 2) * dt + sigma * np.sqrt(dt) * rand)
    return paths</code></pre>
</details>
</dd>
</dl>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="vectorbt.data.custom.AlpacaData"><code class="flex name class">
<span>class <span class="ident parent-name">AlpacaData</span></span>
(<span class="params">wrapper, data, tz_localize, tz_convert, missing_index, missing_columns, download_kwargs, **kwargs</span>)
</code></dt>
<dd>
<div class="desc"><p><code>Data</code> for data coming from <code>alpaca-trade-api</code>.
Sign up for Alpaca API keys here: <a href="https://app.alpaca.markets/signup">https://app.alpaca.markets/signup</a></p>
<h2 id="example">Example</h2>
<p>Fetch the 1-minute data of the last 2 hours, wait 1 minute, and update:</p>
<pre><code class="language-python-repl">&gt;&gt;&gt; import vectorbt as vbt

&gt;&gt;&gt; alpaca_data = vbt.AlpacaData.download(
...     &quot;AAPL&quot;,
...     start='2 hours ago UTC',
...     end='15 minutes ago UTC',
...     interval='1m'
... )
&gt;&gt;&gt; alpaca_data.get()
                            Open      High       Low     Close      Volume
timestamp                                                                
2021-12-27 14:04:00+00:00  177.0500  177.0500  177.0500  177.0500    1967
2021-12-27 14:05:00+00:00  177.0500  177.0500  177.0300  177.0500    3218
2021-12-27 14:06:00+00:00  177.0400  177.0400  177.0400  177.0400     873
2021-12-27 14:07:00+00:00  177.0399  177.0400  177.0300  177.0400    1100
2021-12-27 14:08:00+00:00  177.0400  177.0400  176.9700  176.9900   19943
...                             ...       ...       ...       ...     ...
2021-12-27 15:44:00+00:00  178.0000  178.0079  177.9311  177.9710  106395
2021-12-27 15:45:00+00:00  177.9700  178.0564  177.9430  177.9600  153325
2021-12-27 15:46:00+00:00  177.9500  178.0000  177.8289  177.8850  162778
2021-12-27 15:47:00+00:00  177.8810  177.9600  177.8400  177.9515  123284
2021-12-27 15:48:00+00:00  177.9600  178.0500  177.9600  178.0100  159700

[105 rows x 5 columns]

&gt;&gt;&gt; import time
&gt;&gt;&gt; time.sleep(60)

&gt;&gt;&gt; alpaca_data = alpaca_data.update()
&gt;&gt;&gt; alpaca_data.get()
                            Open      High       Low     Close      Volume
timestamp                                                                
2021-12-27 14:04:00+00:00  177.0500  177.0500  177.0500  177.0500    1967
2021-12-27 14:05:00+00:00  177.0500  177.0500  177.0300  177.0500    3218
2021-12-27 14:06:00+00:00  177.0400  177.0400  177.0400  177.0400     873
2021-12-27 14:07:00+00:00  177.0399  177.0400  177.0300  177.0400    1100
2021-12-27 14:08:00+00:00  177.0400  177.0400  176.9700  176.9900   19943
...                             ...       ...       ...       ...     ...
2021-12-27 15:45:00+00:00  177.9700  178.0564  177.9430  177.9600  153325
2021-12-27 15:46:00+00:00  177.9500  178.0000  177.8289  177.8850  162778
2021-12-27 15:47:00+00:00  177.8810  177.9600  177.8400  177.9515  123284
2021-12-27 15:48:00+00:00  177.9600  178.0500  177.9600  178.0100  159700
2021-12-27 15:49:00+00:00  178.0100  178.0700  177.9700  178.0650  185037

[106 rows x 5 columns]
</code></pre></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class AlpacaData(Data):
    &#34;&#34;&#34;`Data` for data coming from `alpaca-trade-api`. 
    Sign up for Alpaca API keys here: https://app.alpaca.markets/signup
    
    ## Example

    Fetch the 1-minute data of the last 2 hours, wait 1 minute, and update:

    ```python-repl
    &gt;&gt;&gt; import vectorbt as vbt

    &gt;&gt;&gt; alpaca_data = vbt.AlpacaData.download(
    ...     &#34;AAPL&#34;,
    ...     start=&#39;2 hours ago UTC&#39;,
    ...     end=&#39;15 minutes ago UTC&#39;,
    ...     interval=&#39;1m&#39;
    ... )
    &gt;&gt;&gt; alpaca_data.get()
                                Open      High       Low     Close      Volume
    timestamp                                                                
    2021-12-27 14:04:00+00:00  177.0500  177.0500  177.0500  177.0500    1967
    2021-12-27 14:05:00+00:00  177.0500  177.0500  177.0300  177.0500    3218
    2021-12-27 14:06:00+00:00  177.0400  177.0400  177.0400  177.0400     873
    2021-12-27 14:07:00+00:00  177.0399  177.0400  177.0300  177.0400    1100
    2021-12-27 14:08:00+00:00  177.0400  177.0400  176.9700  176.9900   19943
    ...                             ...       ...       ...       ...     ...
    2021-12-27 15:44:00+00:00  178.0000  178.0079  177.9311  177.9710  106395
    2021-12-27 15:45:00+00:00  177.9700  178.0564  177.9430  177.9600  153325
    2021-12-27 15:46:00+00:00  177.9500  178.0000  177.8289  177.8850  162778
    2021-12-27 15:47:00+00:00  177.8810  177.9600  177.8400  177.9515  123284
    2021-12-27 15:48:00+00:00  177.9600  178.0500  177.9600  178.0100  159700

    [105 rows x 5 columns]

    &gt;&gt;&gt; import time
    &gt;&gt;&gt; time.sleep(60)

    &gt;&gt;&gt; alpaca_data = alpaca_data.update()
    &gt;&gt;&gt; alpaca_data.get()
                                Open      High       Low     Close      Volume
    timestamp                                                                
    2021-12-27 14:04:00+00:00  177.0500  177.0500  177.0500  177.0500    1967
    2021-12-27 14:05:00+00:00  177.0500  177.0500  177.0300  177.0500    3218
    2021-12-27 14:06:00+00:00  177.0400  177.0400  177.0400  177.0400     873
    2021-12-27 14:07:00+00:00  177.0399  177.0400  177.0300  177.0400    1100
    2021-12-27 14:08:00+00:00  177.0400  177.0400  176.9700  176.9900   19943
    ...                             ...       ...       ...       ...     ...
    2021-12-27 15:45:00+00:00  177.9700  178.0564  177.9430  177.9600  153325
    2021-12-27 15:46:00+00:00  177.9500  178.0000  177.8289  177.8850  162778
    2021-12-27 15:47:00+00:00  177.8810  177.9600  177.8400  177.9515  123284
    2021-12-27 15:48:00+00:00  177.9600  178.0500  177.9600  178.0100  159700
    2021-12-27 15:49:00+00:00  178.0100  178.0700  177.9700  178.0650  185037

    [106 rows x 5 columns]
    ```&#34;&#34;&#34;

    @classmethod
    def download_symbol(cls,
                        symbol: str,
                        timeframe: str = &#39;1d&#39;,
                        start: tp.DatetimeLike = 0,
                        end: tp.DatetimeLike = &#39;now UTC&#39;,
                        adjustment: tp.Optional[str] = &#39;all&#39;,
                        limit: int = 500,
                        exchange: tp.Optional[str] = &#39;CBSE&#39;,
                        **kwargs) -&gt; tp.Frame:
        &#34;&#34;&#34;Download the symbol.

        Args:
            symbol (str): Symbol.
            timeframe (str): Timeframe of data. Must be integer multiple of &#39;m&#39; (minute), &#39;h&#39; (hour) or &#39;d&#39; (day). i.e. &#39;15m&#39; 
                Note: Data from the latest 15 minutes is not available with a free data plan.
                See: https://alpaca.markets/data

            start (any): Start datetime.

                See `vectorbt.utils.datetime_.to_tzaware_datetime`.
            end (any): End datetime.

                See `vectorbt.utils.datetime_.to_tzaware_datetime`.
            adjustment (str): Specifies the corporate action adjustment for the stocks. 
                Enum: `raw`, `split`, `dividend` or `all`.
            limit (int): The maximum number of returned items.
            exchange (str): For crypto symbols. Which exchange you wish to retrieve data from.
                Enum: `FTX`, `ERSX`, `CBSE`

        For defaults, see `data.alpaca` in `vectorbt._settings.settings`.
        &#34;&#34;&#34;
        from vectorbt._settings import settings
        from alpaca_trade_api.rest import TimeFrameUnit, TimeFrame, REST
        
        alpaca_cfg = settings[&#39;data&#39;][&#39;alpaca&#39;]
        
        client_kwargs = dict()
        for k in get_func_kwargs(REST):
            if k in kwargs:
                client_kwargs[k] = kwargs.pop(k)

        client_kwargs = merge_dicts(alpaca_cfg, client_kwargs)
        
        client = REST(**client_kwargs)

        _timeframe_units = {&#39;d&#39;: TimeFrameUnit.Day, &#39;h&#39;: TimeFrameUnit.Hour, &#39;m&#39;: TimeFrameUnit.Minute}

        if len(timeframe) &lt; 2:
            raise ValueError(&#34;invalid timeframe&#34;)
            
        amount_str = timeframe[:-1]
        unit_str = timeframe[-1]

        if not amount_str.isnumeric() or unit_str not in _timeframe_units:
            raise ValueError(&#34;invalid timeframe&#34;)
        
        amount = int(amount_str)
        unit = _timeframe_units[unit_str]

        _timeframe = TimeFrame(amount, unit)

        start_ts = to_tzaware_datetime(start, tz=get_utc_tz()).isoformat()
        end_ts = to_tzaware_datetime(end, tz=get_utc_tz()).isoformat()

        
        def _is_crypto_symbol(symbol):
            return len(symbol) == 6 and &#34;USD&#34; in symbol

        if _is_crypto_symbol(symbol):
            df = client.get_crypto_bars(symbol=symbol,
                                    timeframe=_timeframe,
                                    start=start_ts,
                                    end=end_ts,
                                    limit=limit,
                                    exchanges=exchange).df
        else:
            df = client.get_bars(symbol=symbol, 
                                timeframe=_timeframe,
                                start=start_ts,
                                end=end_ts,
                                adjustment=adjustment, 
                                limit=limit).df
        
        # filter for OHLCV
        # remove extra columns
        df.drop([&#39;trade_count&#39;, &#39;vwap&#39;], axis=1, errors=&#39;ignore&#39;, inplace=True)

        # capitalize
        df.rename(columns={&#39;open&#39;: &#39;Open&#39;, &#39;high&#39;: &#39;High&#39;, &#39;low&#39;: &#39;Low&#39;, &#39;close&#39;: &#39;Close&#39;, &#39;volume&#39;: &#39;Volume&#39;, &#39;exchange&#39;:&#39;Exchange&#39;}, inplace=True)

        df[&#39;Open&#39;] = df[&#39;Open&#39;].astype(float)
        df[&#39;High&#39;] = df[&#39;High&#39;].astype(float)
        df[&#39;Low&#39;] = df[&#39;Low&#39;].astype(float)
        df[&#39;Close&#39;] = df[&#39;Close&#39;].astype(float)
        df[&#39;Volume&#39;] = df[&#39;Volume&#39;].astype(float)

        return df



    def update_symbol(self, symbol: str, **kwargs) -&gt; tp.Frame:
        &#34;&#34;&#34;Update the symbol.

        `**kwargs` will override keyword arguments passed to `AlpacaData.download_symbol`.&#34;&#34;&#34;
        download_kwargs = self.select_symbol_kwargs(symbol, self.download_kwargs)
        download_kwargs[&#39;start&#39;] = self.data[symbol].index[-1]
        download_kwargs[&#39;show_progress&#39;] = False
        kwargs = merge_dicts(download_kwargs, kwargs)
        return self.download_symbol(symbol, **kwargs)</code></pre>
</details>
<h3 class="section-subtitle">Ancestors</h3>
<ul class="hlist">
<li><a title="vectorbt.data.base.Data" href="base.html#vectorbt.data.base.Data">Data</a></li>
<li><a title="vectorbt.base.array_wrapper.Wrapping" href="../base/array_wrapper.html#vectorbt.base.array_wrapper.Wrapping">Wrapping</a></li>
<li><a title="vectorbt.utils.config.Configured" href="../utils/config.html#vectorbt.utils.config.Configured">Configured</a></li>
<li><a title="vectorbt.utils.config.Pickleable" href="../utils/config.html#vectorbt.utils.config.Pickleable">Pickleable</a></li>
<li><a title="vectorbt.utils.docs.Documented" href="../utils/docs.html#vectorbt.utils.docs.Documented">Documented</a></li>
<li><a title="vectorbt.base.indexing.PandasIndexer" href="../base/indexing.html#vectorbt.base.indexing.PandasIndexer">PandasIndexer</a></li>
<li><a title="vectorbt.base.indexing.IndexingBase" href="../base/indexing.html#vectorbt.base.indexing.IndexingBase">IndexingBase</a></li>
<li><a title="vectorbt.utils.attr_.AttrResolver" href="../utils/attr_.html#vectorbt.utils.attr_.AttrResolver">AttrResolver</a></li>
<li><a title="vectorbt.generic.stats_builder.StatsBuilderMixin" href="../generic/stats_builder.html#vectorbt.generic.stats_builder.StatsBuilderMixin">StatsBuilderMixin</a></li>
<li><a title="vectorbt.generic.plots_builder.PlotsBuilderMixin" href="../generic/plots_builder.html#vectorbt.generic.plots_builder.PlotsBuilderMixin">PlotsBuilderMixin</a></li>
</ul>
<h3 class="section-subtitle">Static methods</h3>
<dl>
<dt id="vectorbt.data.custom.AlpacaData.download_symbol"><code class="name flex">
<span>def <span class="ident child-name">download_symbol</span></span>(<span class="params">symbol, timeframe='1d', start=0, end='now UTC', adjustment='all', limit=500, exchange='CBSE', **kwargs)</span><span class="return_type"></span>
</code></dt>
<dd>
<div class="desc"><p>Download the symbol.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>symbol</code></strong> :&ensp;<code>str</code></dt>
<dd>Symbol.</dd>
<dt><strong><code>timeframe</code></strong> :&ensp;<code>str</code></dt>
<dd>Timeframe of data. Must be integer multiple of 'm' (minute), 'h' (hour) or 'd' (day). i.e. '15m'
Note: Data from the latest 15 minutes is not available with a free data plan.
See: <a href="https://alpaca.markets/data">https://alpaca.markets/data</a></dd>
<dt><strong><code>start</code></strong> :&ensp;<code>any</code></dt>
<dd>
<p>Start datetime.</p>
<p>See <code><a title="vectorbt.utils.datetime_.to_tzaware_datetime" href="../utils/datetime_.html#vectorbt.utils.datetime_.to_tzaware_datetime">to_tzaware_datetime()</a></code>.</p>
</dd>
<dt><strong><code>end</code></strong> :&ensp;<code>any</code></dt>
<dd>
<p>End datetime.</p>
<p>See <code><a title="vectorbt.utils.datetime_.to_tzaware_datetime" href="../utils/datetime_.html#vectorbt.utils.datetime_.to_tzaware_datetime">to_tzaware_datetime()</a></code>.</p>
</dd>
<dt><strong><code>adjustment</code></strong> :&ensp;<code>str</code></dt>
<dd>Specifies the corporate action adjustment for the stocks.
Enum: <code>raw</code>, <code>split</code>, <code>dividend</code> or <code>all</code>.</dd>
<dt><strong><code>limit</code></strong> :&ensp;<code>int</code></dt>
<dd>The maximum number of returned items.</dd>
<dt><strong><code>exchange</code></strong> :&ensp;<code>str</code></dt>
<dd>For crypto symbols. Which exchange you wish to retrieve data from.
Enum: <code>FTX</code>, <code>ERSX</code>, <code>CBSE</code></dd>
</dl>
<p>For defaults, see <code>data.alpaca</code> in <code><a title="vectorbt._settings.settings" href="../_settings.html#vectorbt._settings.settings">settings</a></code>.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@classmethod
def download_symbol(cls,
                    symbol: str,
                    timeframe: str = &#39;1d&#39;,
                    start: tp.DatetimeLike = 0,
                    end: tp.DatetimeLike = &#39;now UTC&#39;,
                    adjustment: tp.Optional[str] = &#39;all&#39;,
                    limit: int = 500,
                    exchange: tp.Optional[str] = &#39;CBSE&#39;,
                    **kwargs) -&gt; tp.Frame:
    &#34;&#34;&#34;Download the symbol.

    Args:
        symbol (str): Symbol.
        timeframe (str): Timeframe of data. Must be integer multiple of &#39;m&#39; (minute), &#39;h&#39; (hour) or &#39;d&#39; (day). i.e. &#39;15m&#39; 
            Note: Data from the latest 15 minutes is not available with a free data plan.
            See: https://alpaca.markets/data

        start (any): Start datetime.

            See `vectorbt.utils.datetime_.to_tzaware_datetime`.
        end (any): End datetime.

            See `vectorbt.utils.datetime_.to_tzaware_datetime`.
        adjustment (str): Specifies the corporate action adjustment for the stocks. 
            Enum: `raw`, `split`, `dividend` or `all`.
        limit (int): The maximum number of returned items.
        exchange (str): For crypto symbols. Which exchange you wish to retrieve data from.
            Enum: `FTX`, `ERSX`, `CBSE`

    For defaults, see `data.alpaca` in `vectorbt._settings.settings`.
    &#34;&#34;&#34;
    from vectorbt._settings import settings
    from alpaca_trade_api.rest import TimeFrameUnit, TimeFrame, REST
    
    alpaca_cfg = settings[&#39;data&#39;][&#39;alpaca&#39;]
    
    client_kwargs = dict()
    for k in get_func_kwargs(REST):
        if k in kwargs:
            client_kwargs[k] = kwargs.pop(k)

    client_kwargs = merge_dicts(alpaca_cfg, client_kwargs)
    
    client = REST(**client_kwargs)

    _timeframe_units = {&#39;d&#39;: TimeFrameUnit.Day, &#39;h&#39;: TimeFrameUnit.Hour, &#39;m&#39;: TimeFrameUnit.Minute}

    if len(timeframe) &lt; 2:
        raise ValueError(&#34;invalid timeframe&#34;)
        
    amount_str = timeframe[:-1]
    unit_str = timeframe[-1]

    if not amount_str.isnumeric() or unit_str not in _timeframe_units:
        raise ValueError(&#34;invalid timeframe&#34;)
    
    amount = int(amount_str)
    unit = _timeframe_units[unit_str]

    _timeframe = TimeFrame(amount, unit)

    start_ts = to_tzaware_datetime(start, tz=get_utc_tz()).isoformat()
    end_ts = to_tzaware_datetime(end, tz=get_utc_tz()).isoformat()

    
    def _is_crypto_symbol(symbol):
        return len(symbol) == 6 and &#34;USD&#34; in symbol

    if _is_crypto_symbol(symbol):
        df = client.get_crypto_bars(symbol=symbol,
                                timeframe=_timeframe,
                                start=start_ts,
                                end=end_ts,
                                limit=limit,
                                exchanges=exchange).df
    else:
        df = client.get_bars(symbol=symbol, 
                            timeframe=_timeframe,
                            start=start_ts,
                            end=end_ts,
                            adjustment=adjustment, 
                            limit=limit).df
    
    # filter for OHLCV
    # remove extra columns
    df.drop([&#39;trade_count&#39;, &#39;vwap&#39;], axis=1, errors=&#39;ignore&#39;, inplace=True)

    # capitalize
    df.rename(columns={&#39;open&#39;: &#39;Open&#39;, &#39;high&#39;: &#39;High&#39;, &#39;low&#39;: &#39;Low&#39;, &#39;close&#39;: &#39;Close&#39;, &#39;volume&#39;: &#39;Volume&#39;, &#39;exchange&#39;:&#39;Exchange&#39;}, inplace=True)

    df[&#39;Open&#39;] = df[&#39;Open&#39;].astype(float)
    df[&#39;High&#39;] = df[&#39;High&#39;].astype(float)
    df[&#39;Low&#39;] = df[&#39;Low&#39;].astype(float)
    df[&#39;Close&#39;] = df[&#39;Close&#39;].astype(float)
    df[&#39;Volume&#39;] = df[&#39;Volume&#39;].astype(float)

    return df</code></pre>
</details>
</dd>
</dl>
<h3 class="section-subtitle">Methods</h3>
<dl>
<dt id="vectorbt.data.custom.AlpacaData.update_symbol"><code class="name flex">
<span>def <span class="ident child-name">update_symbol</span></span>(<span class="params">self, symbol, **kwargs)</span><span class="return_type"></span>
</code></dt>
<dd>
<div class="desc"><p>Update the symbol.</p>
<p><code>**kwargs</code> will override keyword arguments passed to <code><a title="vectorbt.data.custom.AlpacaData.download_symbol" href="#vectorbt.data.custom.AlpacaData.download_symbol">AlpacaData.download_symbol()</a></code>.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def update_symbol(self, symbol: str, **kwargs) -&gt; tp.Frame:
    &#34;&#34;&#34;Update the symbol.

    `**kwargs` will override keyword arguments passed to `AlpacaData.download_symbol`.&#34;&#34;&#34;
    download_kwargs = self.select_symbol_kwargs(symbol, self.download_kwargs)
    download_kwargs[&#39;start&#39;] = self.data[symbol].index[-1]
    download_kwargs[&#39;show_progress&#39;] = False
    kwargs = merge_dicts(download_kwargs, kwargs)
    return self.download_symbol(symbol, **kwargs)</code></pre>
</details>
</dd>
</dl>
<h3 class="section-subtitle">Inherited members</h3>
<ul class="hlist">
<li><code><b><a title="vectorbt.data.base.Data" href="base.html#vectorbt.data.base.Data">Data</a></b></code>:
<ul class="hlist">
<li><code><a title="vectorbt.data.base.Data.align_columns" href="base.html#vectorbt.data.base.Data.align_columns">align_columns</a></code></li>
<li><code><a title="vectorbt.data.base.Data.align_index" href="base.html#vectorbt.data.base.Data.align_index">align_index</a></code></li>
<li><code><a title="vectorbt.data.base.Data.build_metrics_doc" href="../generic/stats_builder.html#vectorbt.generic.stats_builder.StatsBuilderMixin.build_metrics_doc">build_metrics_doc</a></code></li>
<li><code><a title="vectorbt.data.base.Data.build_subplots_doc" href="../generic/plots_builder.html#vectorbt.generic.plots_builder.PlotsBuilderMixin.build_subplots_doc">build_subplots_doc</a></code></li>
<li><code><a title="vectorbt.data.base.Data.concat" href="base.html#vectorbt.data.base.Data.concat">concat</a></code></li>
<li><code><a title="vectorbt.data.base.Data.config" href="../utils/config.html#vectorbt.utils.config.Configured.config">config</a></code></li>
<li><code><a title="vectorbt.data.base.Data.copy" href="../utils/config.html#vectorbt.utils.config.Configured.copy">copy</a></code></li>
<li><code><a title="vectorbt.data.base.Data.data" href="base.html#vectorbt.data.base.Data.data">data</a></code></li>
<li><code><a title="vectorbt.data.base.Data.deep_getattr" href="../utils/attr_.html#vectorbt.utils.attr_.AttrResolver.deep_getattr">deep_getattr</a></code></li>
<li><code><a title="vectorbt.data.base.Data.download" href="base.html#vectorbt.data.base.Data.download">download</a></code></li>
<li><code><a title="vectorbt.data.base.Data.download_kwargs" href="base.html#vectorbt.data.base.Data.download_kwargs">download_kwargs</a></code></li>
<li><code><a title="vectorbt.data.base.Data.dumps" href="../utils/config.html#vectorbt.utils.config.Pickleable.dumps">dumps</a></code></li>
<li><code><a title="vectorbt.data.base.Data.from_data" href="base.html#vectorbt.data.base.Data.from_data">from_data</a></code></li>
<li><code><a title="vectorbt.data.base.Data.get" href="base.html#vectorbt.data.base.Data.get">get</a></code></li>
<li><code><a title="vectorbt.data.base.Data.iloc" href="../base/indexing.html#vectorbt.base.indexing.PandasIndexer.iloc">iloc</a></code></li>
<li><code><a title="vectorbt.data.base.Data.indexing_func" href="base.html#vectorbt.data.base.Data.indexing_func">indexing_func</a></code></li>
<li><code><a title="vectorbt.data.base.Data.indexing_kwargs" href="../base/indexing.html#vectorbt.base.indexing.PandasIndexer.indexing_kwargs">indexing_kwargs</a></code></li>
<li><code><a title="vectorbt.data.base.Data.load" href="../utils/config.html#vectorbt.utils.config.Pickleable.load">load</a></code></li>
<li><code><a title="vectorbt.data.base.Data.loads" href="../utils/config.html#vectorbt.utils.config.Pickleable.loads">loads</a></code></li>
<li><code><a title="vectorbt.data.base.Data.loc" href="../base/indexing.html#vectorbt.base.indexing.PandasIndexer.loc">loc</a></code></li>
<li><code><a title="vectorbt.data.base.Data.missing_columns" href="base.html#vectorbt.data.base.Data.missing_columns">missing_columns</a></code></li>
<li><code><a title="vectorbt.data.base.Data.missing_index" href="base.html#vectorbt.data.base.Data.missing_index">missing_index</a></code></li>
<li><code><a title="vectorbt.data.base.Data.override_metrics_doc" href="../generic/stats_builder.html#vectorbt.generic.stats_builder.StatsBuilderMixin.override_metrics_doc">override_metrics_doc</a></code></li>
<li><code><a title="vectorbt.data.base.Data.override_subplots_doc" href="../generic/plots_builder.html#vectorbt.generic.plots_builder.PlotsBuilderMixin.override_subplots_doc">override_subplots_doc</a></code></li>
<li><code><a title="vectorbt.data.base.Data.plot" href="base.html#vectorbt.data.base.Data.plot">plot</a></code></li>
<li><code><a title="vectorbt.data.base.Data.plots" href="../generic/plots_builder.html#vectorbt.generic.plots_builder.PlotsBuilderMixin.plots">plots</a></code></li>
<li><code><a title="vectorbt.data.base.Data.plots_defaults" href="base.html#vectorbt.data.base.Data.plots_defaults">plots_defaults</a></code></li>
<li><code><a title="vectorbt.data.base.Data.post_resolve_attr" href="../utils/attr_.html#vectorbt.utils.attr_.AttrResolver.post_resolve_attr">post_resolve_attr</a></code></li>
<li><code><a title="vectorbt.data.base.Data.pre_resolve_attr" href="../utils/attr_.html#vectorbt.utils.attr_.AttrResolver.pre_resolve_attr">pre_resolve_attr</a></code></li>
<li><code><a title="vectorbt.data.base.Data.regroup" href="../base/array_wrapper.html#vectorbt.base.array_wrapper.Wrapping.regroup">regroup</a></code></li>
<li><code><a title="vectorbt.data.base.Data.replace" href="../utils/config.html#vectorbt.utils.config.Configured.replace">replace</a></code></li>
<li><code><a title="vectorbt.data.base.Data.resolve_attr" href="../utils/attr_.html#vectorbt.utils.attr_.AttrResolver.resolve_attr">resolve_attr</a></code></li>
<li><code><a title="vectorbt.data.base.Data.resolve_self" href="../base/array_wrapper.html#vectorbt.base.array_wrapper.Wrapping.resolve_self">resolve_self</a></code></li>
<li><code><a title="vectorbt.data.base.Data.save" href="../utils/config.html#vectorbt.utils.config.Pickleable.save">save</a></code></li>
<li><code><a title="vectorbt.data.base.Data.select_one" href="../base/array_wrapper.html#vectorbt.base.array_wrapper.Wrapping.select_one">select_one</a></code></li>
<li><code><a title="vectorbt.data.base.Data.select_one_from_obj" href="../base/array_wrapper.html#vectorbt.base.array_wrapper.Wrapping.select_one_from_obj">select_one_from_obj</a></code></li>
<li><code><a title="vectorbt.data.base.Data.select_symbol_kwargs" href="base.html#vectorbt.data.base.Data.select_symbol_kwargs">select_symbol_kwargs</a></code></li>
<li><code><a title="vectorbt.data.base.Data.self_aliases" href="../utils/attr_.html#vectorbt.utils.attr_.AttrResolver.self_aliases">self_aliases</a></code></li>
<li><code><a title="vectorbt.data.base.Data.stats" href="../generic/stats_builder.html#vectorbt.generic.stats_builder.StatsBuilderMixin.stats">stats</a></code></li>
<li><code><a title="vectorbt.data.base.Data.stats_defaults" href="base.html#vectorbt.data.base.Data.stats_defaults">stats_defaults</a></code></li>
<li><code><a title="vectorbt.data.base.Data.symbols" href="base.html#vectorbt.data.base.Data.symbols">symbols</a></code></li>
<li><code><a title="vectorbt.data.base.Data.to_doc" href="../utils/docs.html#vectorbt.utils.docs.Documented.to_doc">to_doc</a></code></li>
<li><code><a title="vectorbt.data.base.Data.tz_convert" href="base.html#vectorbt.data.base.Data.tz_convert">tz_convert</a></code></li>
<li><code><a title="vectorbt.data.base.Data.tz_localize" href="base.html#vectorbt.data.base.Data.tz_localize">tz_localize</a></code></li>
<li><code><a title="vectorbt.data.base.Data.update" href="base.html#vectorbt.data.base.Data.update">update</a></code></li>
<li><code><a title="vectorbt.data.base.Data.update_config" href="../utils/config.html#vectorbt.utils.config.Configured.update_config">update_config</a></code></li>
<li><code><a title="vectorbt.data.base.Data.wrapper" href="../base/array_wrapper.html#vectorbt.base.array_wrapper.Wrapping.wrapper">wrapper</a></code></li>
<li><code><a title="vectorbt.data.base.Data.writeable_attrs" href="../utils/config.html#vectorbt.utils.config.Configured.writeable_attrs">writeable_attrs</a></code></li>
<li><code><a title="vectorbt.data.base.Data.xs" href="../base/indexing.html#vectorbt.base.indexing.PandasIndexer.xs">xs</a></code></li>
</ul>
</li>
</ul>
</dd>
<dt id="vectorbt.data.custom.BinanceData"><code class="flex name class">
<span>class <span class="ident parent-name">BinanceData</span></span>
(<span class="params">wrapper, data, tz_localize, tz_convert, missing_index, missing_columns, download_kwargs, **kwargs</span>)
</code></dt>
<dd>
<div class="desc"><p><code>Data</code> for data coming from <code>python-binance</code>.</p>
<h2 id="example">Example</h2>
<p>Fetch the 1-minute data of the last 2 hours, wait 1 minute, and update:</p>
<pre><code class="language-python-repl">&gt;&gt;&gt; import vectorbt as vbt

&gt;&gt;&gt; binance_data = vbt.BinanceData.download(
...     &quot;BTCUSDT&quot;,
...     start='2 hours ago UTC',
...     end='now UTC',
...     interval='1m'
... )
&gt;&gt;&gt; binance_data.get()
2021-05-02 14:47:20.478000+00:00 - 2021-05-02 16:47:00+00:00: : 1it [00:00,  3.42it/s]
                               Open      High       Low     Close     Volume  \
Open time
2021-05-02 14:48:00+00:00  56867.44  56913.57  56857.40  56913.56  28.709976
2021-05-02 14:49:00+00:00  56913.56  56913.57  56845.94  56888.00  19.734841
2021-05-02 14:50:00+00:00  56888.00  56947.32  56879.78  56934.71  23.150163
...                             ...       ...       ...       ...        ...
2021-05-02 16:45:00+00:00  56664.13  56666.77  56641.11  56644.03  40.852719
2021-05-02 16:46:00+00:00  56644.02  56663.43  56605.17  56605.18  27.573654
2021-05-02 16:47:00+00:00  56605.18  56657.55  56605.17  56627.12   7.719933

                                                Close time  Quote volume  \
Open time
2021-05-02 14:48:00+00:00 2021-05-02 14:48:59.999000+00:00  1.633534e+06
2021-05-02 14:49:00+00:00 2021-05-02 14:49:59.999000+00:00  1.122519e+06
2021-05-02 14:50:00+00:00 2021-05-02 14:50:59.999000+00:00  1.317969e+06
...                                                    ...           ...
2021-05-02 16:45:00+00:00 2021-05-02 16:45:59.999000+00:00  2.314579e+06
2021-05-02 16:46:00+00:00 2021-05-02 16:46:59.999000+00:00  1.561548e+06
2021-05-02 16:47:00+00:00 2021-05-02 16:47:59.999000+00:00  4.371848e+05

                           Number of trades  Taker base volume  \
Open time
2021-05-02 14:48:00+00:00               991          13.771152
2021-05-02 14:49:00+00:00               816           5.981942
2021-05-02 14:50:00+00:00              1086          10.813757
...                                     ...                ...
2021-05-02 16:45:00+00:00              1006          18.106933
2021-05-02 16:46:00+00:00               916          14.869411
2021-05-02 16:47:00+00:00               353           3.903321

                           Taker quote volume
Open time
2021-05-02 14:48:00+00:00        7.835391e+05
2021-05-02 14:49:00+00:00        3.402170e+05
2021-05-02 14:50:00+00:00        6.156418e+05
...                                       ...
2021-05-02 16:45:00+00:00        1.025892e+06
2021-05-02 16:46:00+00:00        8.421173e+05
2021-05-02 16:47:00+00:00        2.210323e+05

[120 rows x 10 columns]

&gt;&gt;&gt; import time
&gt;&gt;&gt; time.sleep(60)

&gt;&gt;&gt; binance_data = binance_data.update()
&gt;&gt;&gt; binance_data.get()
                               Open      High       Low     Close     Volume  \
Open time
2021-05-02 14:48:00+00:00  56867.44  56913.57  56857.40  56913.56  28.709976
2021-05-02 14:49:00+00:00  56913.56  56913.57  56845.94  56888.00  19.734841
2021-05-02 14:50:00+00:00  56888.00  56947.32  56879.78  56934.71  23.150163
...                             ...       ...       ...       ...        ...
2021-05-02 16:46:00+00:00  56644.02  56663.43  56605.17  56605.18  27.573654
2021-05-02 16:47:00+00:00  56605.18  56657.55  56605.17  56625.76  14.615437
2021-05-02 16:48:00+00:00  56625.75  56643.60  56614.32  56623.01   5.895843

                                                Close time  Quote volume  \
Open time
2021-05-02 14:48:00+00:00 2021-05-02 14:48:59.999000+00:00  1.633534e+06
2021-05-02 14:49:00+00:00 2021-05-02 14:49:59.999000+00:00  1.122519e+06
2021-05-02 14:50:00+00:00 2021-05-02 14:50:59.999000+00:00  1.317969e+06
...                                                    ...           ...
2021-05-02 16:46:00+00:00 2021-05-02 16:46:59.999000+00:00  1.561548e+06
2021-05-02 16:47:00+00:00 2021-05-02 16:47:59.999000+00:00  8.276017e+05
2021-05-02 16:48:00+00:00 2021-05-02 16:48:59.999000+00:00  3.338702e+05

                           Number of trades  Taker base volume  \
Open time
2021-05-02 14:48:00+00:00               991          13.771152
2021-05-02 14:49:00+00:00               816           5.981942
2021-05-02 14:50:00+00:00              1086          10.813757
...                                     ...                ...
2021-05-02 16:46:00+00:00               916          14.869411
2021-05-02 16:47:00+00:00               912           7.778489
2021-05-02 16:48:00+00:00               308           2.358130

                           Taker quote volume
Open time
2021-05-02 14:48:00+00:00        7.835391e+05
2021-05-02 14:49:00+00:00        3.402170e+05
2021-05-02 14:50:00+00:00        6.156418e+05
...                                       ...
2021-05-02 16:46:00+00:00        8.421173e+05
2021-05-02 16:47:00+00:00        4.404362e+05
2021-05-02 16:48:00+00:00        1.335474e+05

[121 rows x 10 columns]
</code></pre></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class BinanceData(Data):
    &#34;&#34;&#34;`Data` for data coming from `python-binance`.

    ## Example

    Fetch the 1-minute data of the last 2 hours, wait 1 minute, and update:

    ```python-repl
    &gt;&gt;&gt; import vectorbt as vbt

    &gt;&gt;&gt; binance_data = vbt.BinanceData.download(
    ...     &#34;BTCUSDT&#34;,
    ...     start=&#39;2 hours ago UTC&#39;,
    ...     end=&#39;now UTC&#39;,
    ...     interval=&#39;1m&#39;
    ... )
    &gt;&gt;&gt; binance_data.get()
    2021-05-02 14:47:20.478000+00:00 - 2021-05-02 16:47:00+00:00: : 1it [00:00,  3.42it/s]
                                   Open      High       Low     Close     Volume  \\
    Open time
    2021-05-02 14:48:00+00:00  56867.44  56913.57  56857.40  56913.56  28.709976
    2021-05-02 14:49:00+00:00  56913.56  56913.57  56845.94  56888.00  19.734841
    2021-05-02 14:50:00+00:00  56888.00  56947.32  56879.78  56934.71  23.150163
    ...                             ...       ...       ...       ...        ...
    2021-05-02 16:45:00+00:00  56664.13  56666.77  56641.11  56644.03  40.852719
    2021-05-02 16:46:00+00:00  56644.02  56663.43  56605.17  56605.18  27.573654
    2021-05-02 16:47:00+00:00  56605.18  56657.55  56605.17  56627.12   7.719933

                                                    Close time  Quote volume  \\
    Open time
    2021-05-02 14:48:00+00:00 2021-05-02 14:48:59.999000+00:00  1.633534e+06
    2021-05-02 14:49:00+00:00 2021-05-02 14:49:59.999000+00:00  1.122519e+06
    2021-05-02 14:50:00+00:00 2021-05-02 14:50:59.999000+00:00  1.317969e+06
    ...                                                    ...           ...
    2021-05-02 16:45:00+00:00 2021-05-02 16:45:59.999000+00:00  2.314579e+06
    2021-05-02 16:46:00+00:00 2021-05-02 16:46:59.999000+00:00  1.561548e+06
    2021-05-02 16:47:00+00:00 2021-05-02 16:47:59.999000+00:00  4.371848e+05

                               Number of trades  Taker base volume  \\
    Open time
    2021-05-02 14:48:00+00:00               991          13.771152
    2021-05-02 14:49:00+00:00               816           5.981942
    2021-05-02 14:50:00+00:00              1086          10.813757
    ...                                     ...                ...
    2021-05-02 16:45:00+00:00              1006          18.106933
    2021-05-02 16:46:00+00:00               916          14.869411
    2021-05-02 16:47:00+00:00               353           3.903321

                               Taker quote volume
    Open time
    2021-05-02 14:48:00+00:00        7.835391e+05
    2021-05-02 14:49:00+00:00        3.402170e+05
    2021-05-02 14:50:00+00:00        6.156418e+05
    ...                                       ...
    2021-05-02 16:45:00+00:00        1.025892e+06
    2021-05-02 16:46:00+00:00        8.421173e+05
    2021-05-02 16:47:00+00:00        2.210323e+05

    [120 rows x 10 columns]

    &gt;&gt;&gt; import time
    &gt;&gt;&gt; time.sleep(60)

    &gt;&gt;&gt; binance_data = binance_data.update()
    &gt;&gt;&gt; binance_data.get()
                                   Open      High       Low     Close     Volume  \\
    Open time
    2021-05-02 14:48:00+00:00  56867.44  56913.57  56857.40  56913.56  28.709976
    2021-05-02 14:49:00+00:00  56913.56  56913.57  56845.94  56888.00  19.734841
    2021-05-02 14:50:00+00:00  56888.00  56947.32  56879.78  56934.71  23.150163
    ...                             ...       ...       ...       ...        ...
    2021-05-02 16:46:00+00:00  56644.02  56663.43  56605.17  56605.18  27.573654
    2021-05-02 16:47:00+00:00  56605.18  56657.55  56605.17  56625.76  14.615437
    2021-05-02 16:48:00+00:00  56625.75  56643.60  56614.32  56623.01   5.895843

                                                    Close time  Quote volume  \\
    Open time
    2021-05-02 14:48:00+00:00 2021-05-02 14:48:59.999000+00:00  1.633534e+06
    2021-05-02 14:49:00+00:00 2021-05-02 14:49:59.999000+00:00  1.122519e+06
    2021-05-02 14:50:00+00:00 2021-05-02 14:50:59.999000+00:00  1.317969e+06
    ...                                                    ...           ...
    2021-05-02 16:46:00+00:00 2021-05-02 16:46:59.999000+00:00  1.561548e+06
    2021-05-02 16:47:00+00:00 2021-05-02 16:47:59.999000+00:00  8.276017e+05
    2021-05-02 16:48:00+00:00 2021-05-02 16:48:59.999000+00:00  3.338702e+05

                               Number of trades  Taker base volume  \\
    Open time
    2021-05-02 14:48:00+00:00               991          13.771152
    2021-05-02 14:49:00+00:00               816           5.981942
    2021-05-02 14:50:00+00:00              1086          10.813757
    ...                                     ...                ...
    2021-05-02 16:46:00+00:00               916          14.869411
    2021-05-02 16:47:00+00:00               912           7.778489
    2021-05-02 16:48:00+00:00               308           2.358130

                               Taker quote volume
    Open time
    2021-05-02 14:48:00+00:00        7.835391e+05
    2021-05-02 14:49:00+00:00        3.402170e+05
    2021-05-02 14:50:00+00:00        6.156418e+05
    ...                                       ...
    2021-05-02 16:46:00+00:00        8.421173e+05
    2021-05-02 16:47:00+00:00        4.404362e+05
    2021-05-02 16:48:00+00:00        1.335474e+05

    [121 rows x 10 columns]
    ```&#34;&#34;&#34;

    @classmethod
    def download(cls: tp.Type[BinanceDataT],
                 symbols: tp.Labels,
                 client: tp.Optional[&#34;ClientT&#34;] = None,
                 **kwargs) -&gt; BinanceDataT:
        &#34;&#34;&#34;Override `vectorbt.data.base.Data.download` to instantiate a Binance client.&#34;&#34;&#34;
        from binance.client import Client
        from vectorbt._settings import settings
        binance_cfg = settings[&#39;data&#39;][&#39;binance&#39;]

        client_kwargs = dict()
        for k in get_func_kwargs(Client):
            if k in kwargs:
                client_kwargs[k] = kwargs.pop(k)
        client_kwargs = merge_dicts(binance_cfg, client_kwargs)
        if client is None:
            client = Client(**client_kwargs)
        return super(BinanceData, cls).download(symbols, client=client, **kwargs)

    @classmethod
    def download_symbol(cls,
                        symbol: str,
                        client: tp.Optional[&#34;ClientT&#34;] = None,
                        interval: str = &#39;1d&#39;,
                        start: tp.DatetimeLike = 0,
                        end: tp.DatetimeLike = &#39;now UTC&#39;,
                        delay: tp.Optional[float] = 500,
                        limit: int = 500,
                        show_progress: bool = True,
                        tqdm_kwargs: tp.KwargsLike = None) -&gt; tp.Frame:
        &#34;&#34;&#34;Download the symbol.

        Args:
            symbol (str): Symbol.
            client (binance.client.Client): Binance client of type `binance.client.Client`.
            interval (str): Kline interval.

                See `binance.enums`.
            start (any): Start datetime.

                See `vectorbt.utils.datetime_.to_tzaware_datetime`.
            end (any): End datetime.

                See `vectorbt.utils.datetime_.to_tzaware_datetime`.
            delay (float): Time to sleep after each request (in milliseconds).
            limit (int): The maximum number of returned items.
            show_progress (bool): Whether to show the progress bar.
            tqdm_kwargs (dict): Keyword arguments passed to `tqdm`.

        For defaults, see `data.binance` in `vectorbt._settings.settings`.
        &#34;&#34;&#34;
        if client is None:
            raise ValueError(&#34;client must be provided&#34;)

        if tqdm_kwargs is None:
            tqdm_kwargs = {}
        # Establish the timestamps
        start_ts = datetime_to_ms(to_tzaware_datetime(start, tz=get_utc_tz()))
        try:
            first_data = client.get_klines(
                symbol=symbol,
                interval=interval,
                limit=1,
                startTime=0,
                endTime=None
            )
            first_valid_ts = first_data[0][0]
            next_start_ts = start_ts = max(start_ts, first_valid_ts)
        except:
            next_start_ts = start_ts
        end_ts = datetime_to_ms(to_tzaware_datetime(end, tz=get_utc_tz()))

        def _ts_to_str(ts: tp.DatetimeLike) -&gt; str:
            return str(pd.Timestamp(to_tzaware_datetime(ts, tz=get_utc_tz())))

        # Iteratively collect the data
        data: tp.List[list] = []
        with tqdm(disable=not show_progress, **tqdm_kwargs) as pbar:
            pbar.set_description(_ts_to_str(start_ts))
            while True:
                # Fetch the klines for the next interval
                next_data = client.get_klines(
                    symbol=symbol,
                    interval=interval,
                    limit=limit,
                    startTime=next_start_ts,
                    endTime=end_ts
                )
                if len(data) &gt; 0:
                    next_data = list(filter(lambda d: next_start_ts &lt; d[0] &lt; end_ts, next_data))
                else:
                    next_data = list(filter(lambda d: d[0] &lt; end_ts, next_data))

                # Update the timestamps and the progress bar
                if not len(next_data):
                    break
                data += next_data
                pbar.set_description(&#34;{} - {}&#34;.format(
                    _ts_to_str(start_ts),
                    _ts_to_str(next_data[-1][0])
                ))
                pbar.update(1)
                next_start_ts = next_data[-1][0]
                if delay is not None:
                    time.sleep(delay / 1000)  # be kind to api

        # Convert data to a DataFrame
        df = pd.DataFrame(data, columns=[
            &#39;Open time&#39;,
            &#39;Open&#39;,
            &#39;High&#39;,
            &#39;Low&#39;,
            &#39;Close&#39;,
            &#39;Volume&#39;,
            &#39;Close time&#39;,
            &#39;Quote volume&#39;,
            &#39;Number of trades&#39;,
            &#39;Taker base volume&#39;,
            &#39;Taker quote volume&#39;,
            &#39;Ignore&#39;
        ])
        df.index = pd.to_datetime(df[&#39;Open time&#39;], unit=&#39;ms&#39;, utc=True)
        del df[&#39;Open time&#39;]
        df[&#39;Open&#39;] = df[&#39;Open&#39;].astype(float)
        df[&#39;High&#39;] = df[&#39;High&#39;].astype(float)
        df[&#39;Low&#39;] = df[&#39;Low&#39;].astype(float)
        df[&#39;Close&#39;] = df[&#39;Close&#39;].astype(float)
        df[&#39;Volume&#39;] = df[&#39;Volume&#39;].astype(float)
        df[&#39;Close time&#39;] = pd.to_datetime(df[&#39;Close time&#39;], unit=&#39;ms&#39;, utc=True)
        df[&#39;Quote volume&#39;] = df[&#39;Quote volume&#39;].astype(float)
        df[&#39;Number of trades&#39;] = df[&#39;Number of trades&#39;].astype(int)
        df[&#39;Taker base volume&#39;] = df[&#39;Taker base volume&#39;].astype(float)
        df[&#39;Taker quote volume&#39;] = df[&#39;Taker quote volume&#39;].astype(float)
        del df[&#39;Ignore&#39;]

        return df

    def update_symbol(self, symbol: str, **kwargs) -&gt; tp.Frame:
        &#34;&#34;&#34;Update the symbol.

        `**kwargs` will override keyword arguments passed to `BinanceData.download_symbol`.&#34;&#34;&#34;
        download_kwargs = self.select_symbol_kwargs(symbol, self.download_kwargs)
        download_kwargs[&#39;start&#39;] = self.data[symbol].index[-1]
        download_kwargs[&#39;show_progress&#39;] = False
        kwargs = merge_dicts(download_kwargs, kwargs)
        return self.download_symbol(symbol, **kwargs)</code></pre>
</details>
<h3 class="section-subtitle">Ancestors</h3>
<ul class="hlist">
<li><a title="vectorbt.data.base.Data" href="base.html#vectorbt.data.base.Data">Data</a></li>
<li><a title="vectorbt.base.array_wrapper.Wrapping" href="../base/array_wrapper.html#vectorbt.base.array_wrapper.Wrapping">Wrapping</a></li>
<li><a title="vectorbt.utils.config.Configured" href="../utils/config.html#vectorbt.utils.config.Configured">Configured</a></li>
<li><a title="vectorbt.utils.config.Pickleable" href="../utils/config.html#vectorbt.utils.config.Pickleable">Pickleable</a></li>
<li><a title="vectorbt.utils.docs.Documented" href="../utils/docs.html#vectorbt.utils.docs.Documented">Documented</a></li>
<li><a title="vectorbt.base.indexing.PandasIndexer" href="../base/indexing.html#vectorbt.base.indexing.PandasIndexer">PandasIndexer</a></li>
<li><a title="vectorbt.base.indexing.IndexingBase" href="../base/indexing.html#vectorbt.base.indexing.IndexingBase">IndexingBase</a></li>
<li><a title="vectorbt.utils.attr_.AttrResolver" href="../utils/attr_.html#vectorbt.utils.attr_.AttrResolver">AttrResolver</a></li>
<li><a title="vectorbt.generic.stats_builder.StatsBuilderMixin" href="../generic/stats_builder.html#vectorbt.generic.stats_builder.StatsBuilderMixin">StatsBuilderMixin</a></li>
<li><a title="vectorbt.generic.plots_builder.PlotsBuilderMixin" href="../generic/plots_builder.html#vectorbt.generic.plots_builder.PlotsBuilderMixin">PlotsBuilderMixin</a></li>
</ul>
<h3 class="section-subtitle">Static methods</h3>
<dl>
<dt id="vectorbt.data.custom.BinanceData.download"><code class="name flex">
<span>def <span class="ident child-name">download</span></span>(<span class="params">symbols, client=None, **kwargs)</span><span class="return_type"></span>
</code></dt>
<dd>
<div class="desc"><p>Override <code><a title="vectorbt.data.base.Data.download" href="base.html#vectorbt.data.base.Data.download">Data.download()</a></code> to instantiate a Binance client.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@classmethod
def download(cls: tp.Type[BinanceDataT],
             symbols: tp.Labels,
             client: tp.Optional[&#34;ClientT&#34;] = None,
             **kwargs) -&gt; BinanceDataT:
    &#34;&#34;&#34;Override `vectorbt.data.base.Data.download` to instantiate a Binance client.&#34;&#34;&#34;
    from binance.client import Client
    from vectorbt._settings import settings
    binance_cfg = settings[&#39;data&#39;][&#39;binance&#39;]

    client_kwargs = dict()
    for k in get_func_kwargs(Client):
        if k in kwargs:
            client_kwargs[k] = kwargs.pop(k)
    client_kwargs = merge_dicts(binance_cfg, client_kwargs)
    if client is None:
        client = Client(**client_kwargs)
    return super(BinanceData, cls).download(symbols, client=client, **kwargs)</code></pre>
</details>
</dd>
<dt id="vectorbt.data.custom.BinanceData.download_symbol"><code class="name flex">
<span>def <span class="ident child-name">download_symbol</span></span>(<span class="params">symbol, client=None, interval='1d', start=0, end='now UTC', delay=500, limit=500, show_progress=True, tqdm_kwargs=None)</span><span class="return_type"></span>
</code></dt>
<dd>
<div class="desc"><p>Download the symbol.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>symbol</code></strong> :&ensp;<code>str</code></dt>
<dd>Symbol.</dd>
<dt><strong><code>client</code></strong> :&ensp;<code>binance.client.Client</code></dt>
<dd>Binance client of type <code>binance.client.Client</code>.</dd>
<dt><strong><code>interval</code></strong> :&ensp;<code>str</code></dt>
<dd>
<p>Kline interval.</p>
<p>See <code>binance.enums</code>.</p>
</dd>
<dt><strong><code>start</code></strong> :&ensp;<code>any</code></dt>
<dd>
<p>Start datetime.</p>
<p>See <code><a title="vectorbt.utils.datetime_.to_tzaware_datetime" href="../utils/datetime_.html#vectorbt.utils.datetime_.to_tzaware_datetime">to_tzaware_datetime()</a></code>.</p>
</dd>
<dt><strong><code>end</code></strong> :&ensp;<code>any</code></dt>
<dd>
<p>End datetime.</p>
<p>See <code><a title="vectorbt.utils.datetime_.to_tzaware_datetime" href="../utils/datetime_.html#vectorbt.utils.datetime_.to_tzaware_datetime">to_tzaware_datetime()</a></code>.</p>
</dd>
<dt><strong><code>delay</code></strong> :&ensp;<code>float</code></dt>
<dd>Time to sleep after each request (in milliseconds).</dd>
<dt><strong><code>limit</code></strong> :&ensp;<code>int</code></dt>
<dd>The maximum number of returned items.</dd>
<dt><strong><code>show_progress</code></strong> :&ensp;<code>bool</code></dt>
<dd>Whether to show the progress bar.</dd>
<dt><strong><code>tqdm_kwargs</code></strong> :&ensp;<code>dict</code></dt>
<dd>Keyword arguments passed to <code>tqdm</code>.</dd>
</dl>
<p>For defaults, see <code>data.binance</code> in <code><a title="vectorbt._settings.settings" href="../_settings.html#vectorbt._settings.settings">settings</a></code>.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@classmethod
def download_symbol(cls,
                    symbol: str,
                    client: tp.Optional[&#34;ClientT&#34;] = None,
                    interval: str = &#39;1d&#39;,
                    start: tp.DatetimeLike = 0,
                    end: tp.DatetimeLike = &#39;now UTC&#39;,
                    delay: tp.Optional[float] = 500,
                    limit: int = 500,
                    show_progress: bool = True,
                    tqdm_kwargs: tp.KwargsLike = None) -&gt; tp.Frame:
    &#34;&#34;&#34;Download the symbol.

    Args:
        symbol (str): Symbol.
        client (binance.client.Client): Binance client of type `binance.client.Client`.
        interval (str): Kline interval.

            See `binance.enums`.
        start (any): Start datetime.

            See `vectorbt.utils.datetime_.to_tzaware_datetime`.
        end (any): End datetime.

            See `vectorbt.utils.datetime_.to_tzaware_datetime`.
        delay (float): Time to sleep after each request (in milliseconds).
        limit (int): The maximum number of returned items.
        show_progress (bool): Whether to show the progress bar.
        tqdm_kwargs (dict): Keyword arguments passed to `tqdm`.

    For defaults, see `data.binance` in `vectorbt._settings.settings`.
    &#34;&#34;&#34;
    if client is None:
        raise ValueError(&#34;client must be provided&#34;)

    if tqdm_kwargs is None:
        tqdm_kwargs = {}
    # Establish the timestamps
    start_ts = datetime_to_ms(to_tzaware_datetime(start, tz=get_utc_tz()))
    try:
        first_data = client.get_klines(
            symbol=symbol,
            interval=interval,
            limit=1,
            startTime=0,
            endTime=None
        )
        first_valid_ts = first_data[0][0]
        next_start_ts = start_ts = max(start_ts, first_valid_ts)
    except:
        next_start_ts = start_ts
    end_ts = datetime_to_ms(to_tzaware_datetime(end, tz=get_utc_tz()))

    def _ts_to_str(ts: tp.DatetimeLike) -&gt; str:
        return str(pd.Timestamp(to_tzaware_datetime(ts, tz=get_utc_tz())))

    # Iteratively collect the data
    data: tp.List[list] = []
    with tqdm(disable=not show_progress, **tqdm_kwargs) as pbar:
        pbar.set_description(_ts_to_str(start_ts))
        while True:
            # Fetch the klines for the next interval
            next_data = client.get_klines(
                symbol=symbol,
                interval=interval,
                limit=limit,
                startTime=next_start_ts,
                endTime=end_ts
            )
            if len(data) &gt; 0:
                next_data = list(filter(lambda d: next_start_ts &lt; d[0] &lt; end_ts, next_data))
            else:
                next_data = list(filter(lambda d: d[0] &lt; end_ts, next_data))

            # Update the timestamps and the progress bar
            if not len(next_data):
                break
            data += next_data
            pbar.set_description(&#34;{} - {}&#34;.format(
                _ts_to_str(start_ts),
                _ts_to_str(next_data[-1][0])
            ))
            pbar.update(1)
            next_start_ts = next_data[-1][0]
            if delay is not None:
                time.sleep(delay / 1000)  # be kind to api

    # Convert data to a DataFrame
    df = pd.DataFrame(data, columns=[
        &#39;Open time&#39;,
        &#39;Open&#39;,
        &#39;High&#39;,
        &#39;Low&#39;,
        &#39;Close&#39;,
        &#39;Volume&#39;,
        &#39;Close time&#39;,
        &#39;Quote volume&#39;,
        &#39;Number of trades&#39;,
        &#39;Taker base volume&#39;,
        &#39;Taker quote volume&#39;,
        &#39;Ignore&#39;
    ])
    df.index = pd.to_datetime(df[&#39;Open time&#39;], unit=&#39;ms&#39;, utc=True)
    del df[&#39;Open time&#39;]
    df[&#39;Open&#39;] = df[&#39;Open&#39;].astype(float)
    df[&#39;High&#39;] = df[&#39;High&#39;].astype(float)
    df[&#39;Low&#39;] = df[&#39;Low&#39;].astype(float)
    df[&#39;Close&#39;] = df[&#39;Close&#39;].astype(float)
    df[&#39;Volume&#39;] = df[&#39;Volume&#39;].astype(float)
    df[&#39;Close time&#39;] = pd.to_datetime(df[&#39;Close time&#39;], unit=&#39;ms&#39;, utc=True)
    df[&#39;Quote volume&#39;] = df[&#39;Quote volume&#39;].astype(float)
    df[&#39;Number of trades&#39;] = df[&#39;Number of trades&#39;].astype(int)
    df[&#39;Taker base volume&#39;] = df[&#39;Taker base volume&#39;].astype(float)
    df[&#39;Taker quote volume&#39;] = df[&#39;Taker quote volume&#39;].astype(float)
    del df[&#39;Ignore&#39;]

    return df</code></pre>
</details>
</dd>
</dl>
<h3 class="section-subtitle">Methods</h3>
<dl>
<dt id="vectorbt.data.custom.BinanceData.update_symbol"><code class="name flex">
<span>def <span class="ident child-name">update_symbol</span></span>(<span class="params">self, symbol, **kwargs)</span><span class="return_type"></span>
</code></dt>
<dd>
<div class="desc"><p>Update the symbol.</p>
<p><code>**kwargs</code> will override keyword arguments passed to <code><a title="vectorbt.data.custom.BinanceData.download_symbol" href="#vectorbt.data.custom.BinanceData.download_symbol">BinanceData.download_symbol()</a></code>.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def update_symbol(self, symbol: str, **kwargs) -&gt; tp.Frame:
    &#34;&#34;&#34;Update the symbol.

    `**kwargs` will override keyword arguments passed to `BinanceData.download_symbol`.&#34;&#34;&#34;
    download_kwargs = self.select_symbol_kwargs(symbol, self.download_kwargs)
    download_kwargs[&#39;start&#39;] = self.data[symbol].index[-1]
    download_kwargs[&#39;show_progress&#39;] = False
    kwargs = merge_dicts(download_kwargs, kwargs)
    return self.download_symbol(symbol, **kwargs)</code></pre>
</details>
</dd>
</dl>
<h3 class="section-subtitle">Inherited members</h3>
<ul class="hlist">
<li><code><b><a title="vectorbt.data.base.Data" href="base.html#vectorbt.data.base.Data">Data</a></b></code>:
<ul class="hlist">
<li><code><a title="vectorbt.data.base.Data.align_columns" href="base.html#vectorbt.data.base.Data.align_columns">align_columns</a></code></li>
<li><code><a title="vectorbt.data.base.Data.align_index" href="base.html#vectorbt.data.base.Data.align_index">align_index</a></code></li>
<li><code><a title="vectorbt.data.base.Data.build_metrics_doc" href="../generic/stats_builder.html#vectorbt.generic.stats_builder.StatsBuilderMixin.build_metrics_doc">build_metrics_doc</a></code></li>
<li><code><a title="vectorbt.data.base.Data.build_subplots_doc" href="../generic/plots_builder.html#vectorbt.generic.plots_builder.PlotsBuilderMixin.build_subplots_doc">build_subplots_doc</a></code></li>
<li><code><a title="vectorbt.data.base.Data.concat" href="base.html#vectorbt.data.base.Data.concat">concat</a></code></li>
<li><code><a title="vectorbt.data.base.Data.config" href="../utils/config.html#vectorbt.utils.config.Configured.config">config</a></code></li>
<li><code><a title="vectorbt.data.base.Data.copy" href="../utils/config.html#vectorbt.utils.config.Configured.copy">copy</a></code></li>
<li><code><a title="vectorbt.data.base.Data.data" href="base.html#vectorbt.data.base.Data.data">data</a></code></li>
<li><code><a title="vectorbt.data.base.Data.deep_getattr" href="../utils/attr_.html#vectorbt.utils.attr_.AttrResolver.deep_getattr">deep_getattr</a></code></li>
<li><code><a title="vectorbt.data.base.Data.download_kwargs" href="base.html#vectorbt.data.base.Data.download_kwargs">download_kwargs</a></code></li>
<li><code><a title="vectorbt.data.base.Data.dumps" href="../utils/config.html#vectorbt.utils.config.Pickleable.dumps">dumps</a></code></li>
<li><code><a title="vectorbt.data.base.Data.from_data" href="base.html#vectorbt.data.base.Data.from_data">from_data</a></code></li>
<li><code><a title="vectorbt.data.base.Data.get" href="base.html#vectorbt.data.base.Data.get">get</a></code></li>
<li><code><a title="vectorbt.data.base.Data.iloc" href="../base/indexing.html#vectorbt.base.indexing.PandasIndexer.iloc">iloc</a></code></li>
<li><code><a title="vectorbt.data.base.Data.indexing_func" href="base.html#vectorbt.data.base.Data.indexing_func">indexing_func</a></code></li>
<li><code><a title="vectorbt.data.base.Data.indexing_kwargs" href="../base/indexing.html#vectorbt.base.indexing.PandasIndexer.indexing_kwargs">indexing_kwargs</a></code></li>
<li><code><a title="vectorbt.data.base.Data.load" href="../utils/config.html#vectorbt.utils.config.Pickleable.load">load</a></code></li>
<li><code><a title="vectorbt.data.base.Data.loads" href="../utils/config.html#vectorbt.utils.config.Pickleable.loads">loads</a></code></li>
<li><code><a title="vectorbt.data.base.Data.loc" href="../base/indexing.html#vectorbt.base.indexing.PandasIndexer.loc">loc</a></code></li>
<li><code><a title="vectorbt.data.base.Data.missing_columns" href="base.html#vectorbt.data.base.Data.missing_columns">missing_columns</a></code></li>
<li><code><a title="vectorbt.data.base.Data.missing_index" href="base.html#vectorbt.data.base.Data.missing_index">missing_index</a></code></li>
<li><code><a title="vectorbt.data.base.Data.override_metrics_doc" href="../generic/stats_builder.html#vectorbt.generic.stats_builder.StatsBuilderMixin.override_metrics_doc">override_metrics_doc</a></code></li>
<li><code><a title="vectorbt.data.base.Data.override_subplots_doc" href="../generic/plots_builder.html#vectorbt.generic.plots_builder.PlotsBuilderMixin.override_subplots_doc">override_subplots_doc</a></code></li>
<li><code><a title="vectorbt.data.base.Data.plot" href="base.html#vectorbt.data.base.Data.plot">plot</a></code></li>
<li><code><a title="vectorbt.data.base.Data.plots" href="../generic/plots_builder.html#vectorbt.generic.plots_builder.PlotsBuilderMixin.plots">plots</a></code></li>
<li><code><a title="vectorbt.data.base.Data.plots_defaults" href="base.html#vectorbt.data.base.Data.plots_defaults">plots_defaults</a></code></li>
<li><code><a title="vectorbt.data.base.Data.post_resolve_attr" href="../utils/attr_.html#vectorbt.utils.attr_.AttrResolver.post_resolve_attr">post_resolve_attr</a></code></li>
<li><code><a title="vectorbt.data.base.Data.pre_resolve_attr" href="../utils/attr_.html#vectorbt.utils.attr_.AttrResolver.pre_resolve_attr">pre_resolve_attr</a></code></li>
<li><code><a title="vectorbt.data.base.Data.regroup" href="../base/array_wrapper.html#vectorbt.base.array_wrapper.Wrapping.regroup">regroup</a></code></li>
<li><code><a title="vectorbt.data.base.Data.replace" href="../utils/config.html#vectorbt.utils.config.Configured.replace">replace</a></code></li>
<li><code><a title="vectorbt.data.base.Data.resolve_attr" href="../utils/attr_.html#vectorbt.utils.attr_.AttrResolver.resolve_attr">resolve_attr</a></code></li>
<li><code><a title="vectorbt.data.base.Data.resolve_self" href="../base/array_wrapper.html#vectorbt.base.array_wrapper.Wrapping.resolve_self">resolve_self</a></code></li>
<li><code><a title="vectorbt.data.base.Data.save" href="../utils/config.html#vectorbt.utils.config.Pickleable.save">save</a></code></li>
<li><code><a title="vectorbt.data.base.Data.select_one" href="../base/array_wrapper.html#vectorbt.base.array_wrapper.Wrapping.select_one">select_one</a></code></li>
<li><code><a title="vectorbt.data.base.Data.select_one_from_obj" href="../base/array_wrapper.html#vectorbt.base.array_wrapper.Wrapping.select_one_from_obj">select_one_from_obj</a></code></li>
<li><code><a title="vectorbt.data.base.Data.select_symbol_kwargs" href="base.html#vectorbt.data.base.Data.select_symbol_kwargs">select_symbol_kwargs</a></code></li>
<li><code><a title="vectorbt.data.base.Data.self_aliases" href="../utils/attr_.html#vectorbt.utils.attr_.AttrResolver.self_aliases">self_aliases</a></code></li>
<li><code><a title="vectorbt.data.base.Data.stats" href="../generic/stats_builder.html#vectorbt.generic.stats_builder.StatsBuilderMixin.stats">stats</a></code></li>
<li><code><a title="vectorbt.data.base.Data.stats_defaults" href="base.html#vectorbt.data.base.Data.stats_defaults">stats_defaults</a></code></li>
<li><code><a title="vectorbt.data.base.Data.symbols" href="base.html#vectorbt.data.base.Data.symbols">symbols</a></code></li>
<li><code><a title="vectorbt.data.base.Data.to_doc" href="../utils/docs.html#vectorbt.utils.docs.Documented.to_doc">to_doc</a></code></li>
<li><code><a title="vectorbt.data.base.Data.tz_convert" href="base.html#vectorbt.data.base.Data.tz_convert">tz_convert</a></code></li>
<li><code><a title="vectorbt.data.base.Data.tz_localize" href="base.html#vectorbt.data.base.Data.tz_localize">tz_localize</a></code></li>
<li><code><a title="vectorbt.data.base.Data.update" href="base.html#vectorbt.data.base.Data.update">update</a></code></li>
<li><code><a title="vectorbt.data.base.Data.update_config" href="../utils/config.html#vectorbt.utils.config.Configured.update_config">update_config</a></code></li>
<li><code><a title="vectorbt.data.base.Data.wrapper" href="../base/array_wrapper.html#vectorbt.base.array_wrapper.Wrapping.wrapper">wrapper</a></code></li>
<li><code><a title="vectorbt.data.base.Data.writeable_attrs" href="../utils/config.html#vectorbt.utils.config.Configured.writeable_attrs">writeable_attrs</a></code></li>
<li><code><a title="vectorbt.data.base.Data.xs" href="../base/indexing.html#vectorbt.base.indexing.PandasIndexer.xs">xs</a></code></li>
</ul>
</li>
</ul>
</dd>
<dt id="vectorbt.data.custom.CCXTData"><code class="flex name class">
<span>class <span class="ident parent-name">CCXTData</span></span>
(<span class="params">wrapper, data, tz_localize, tz_convert, missing_index, missing_columns, download_kwargs, **kwargs</span>)
</code></dt>
<dd>
<div class="desc"><p><code>Data</code> for data coming from <code>ccxt</code>.</p>
<h2 id="example">Example</h2>
<p>Fetch the 1-minute data of the last 2 hours, wait 1 minute, and update:</p>
<pre><code class="language-python-repl">&gt;&gt;&gt; import vectorbt as vbt

&gt;&gt;&gt; ccxt_data = vbt.CCXTData.download(
...     &quot;BTC/USDT&quot;,
...     start='2 hours ago UTC',
...     end='now UTC',
...     timeframe='1m'
... )
&gt;&gt;&gt; ccxt_data.get()
2021-05-02 14:50:26.305000+00:00 - 2021-05-02 16:50:00+00:00: : 1it [00:00,  1.96it/s]
                               Open      High       Low     Close     Volume
Open time
2021-05-02 14:51:00+00:00  56934.70  56964.59  56910.00  56948.99  22.158319
2021-05-02 14:52:00+00:00  56948.99  56999.00  56940.04  56977.62  46.958464
2021-05-02 14:53:00+00:00  56977.61  56987.09  56882.98  56885.42  27.752200
...                             ...       ...       ...       ...        ...
2021-05-02 16:48:00+00:00  56625.75  56643.60  56595.47  56596.01  15.452510
2021-05-02 16:49:00+00:00  56596.00  56664.14  56596.00  56640.35  12.777475
2021-05-02 16:50:00+00:00  56640.35  56675.82  56640.35  56670.65   6.882321

[120 rows x 5 columns]

&gt;&gt;&gt; import time
&gt;&gt;&gt; time.sleep(60)

&gt;&gt;&gt; ccxt_data = ccxt_data.update()
&gt;&gt;&gt; ccxt_data.get()
                               Open      High       Low     Close     Volume
Open time
2021-05-02 14:51:00+00:00  56934.70  56964.59  56910.00  56948.99  22.158319
2021-05-02 14:52:00+00:00  56948.99  56999.00  56940.04  56977.62  46.958464
2021-05-02 14:53:00+00:00  56977.61  56987.09  56882.98  56885.42  27.752200
...                             ...       ...       ...       ...        ...
2021-05-02 16:49:00+00:00  56596.00  56664.14  56596.00  56640.35  12.777475
2021-05-02 16:50:00+00:00  56640.35  56689.99  56640.35  56678.33  14.610231
2021-05-02 16:51:00+00:00  56678.33  56688.99  56636.89  56653.42  11.647158

[121 rows x 5 columns]
</code></pre></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class CCXTData(Data):
    &#34;&#34;&#34;`Data` for data coming from `ccxt`.

    ## Example

    Fetch the 1-minute data of the last 2 hours, wait 1 minute, and update:

    ```python-repl
    &gt;&gt;&gt; import vectorbt as vbt

    &gt;&gt;&gt; ccxt_data = vbt.CCXTData.download(
    ...     &#34;BTC/USDT&#34;,
    ...     start=&#39;2 hours ago UTC&#39;,
    ...     end=&#39;now UTC&#39;,
    ...     timeframe=&#39;1m&#39;
    ... )
    &gt;&gt;&gt; ccxt_data.get()
    2021-05-02 14:50:26.305000+00:00 - 2021-05-02 16:50:00+00:00: : 1it [00:00,  1.96it/s]
                                   Open      High       Low     Close     Volume
    Open time
    2021-05-02 14:51:00+00:00  56934.70  56964.59  56910.00  56948.99  22.158319
    2021-05-02 14:52:00+00:00  56948.99  56999.00  56940.04  56977.62  46.958464
    2021-05-02 14:53:00+00:00  56977.61  56987.09  56882.98  56885.42  27.752200
    ...                             ...       ...       ...       ...        ...
    2021-05-02 16:48:00+00:00  56625.75  56643.60  56595.47  56596.01  15.452510
    2021-05-02 16:49:00+00:00  56596.00  56664.14  56596.00  56640.35  12.777475
    2021-05-02 16:50:00+00:00  56640.35  56675.82  56640.35  56670.65   6.882321

    [120 rows x 5 columns]

    &gt;&gt;&gt; import time
    &gt;&gt;&gt; time.sleep(60)

    &gt;&gt;&gt; ccxt_data = ccxt_data.update()
    &gt;&gt;&gt; ccxt_data.get()
                                   Open      High       Low     Close     Volume
    Open time
    2021-05-02 14:51:00+00:00  56934.70  56964.59  56910.00  56948.99  22.158319
    2021-05-02 14:52:00+00:00  56948.99  56999.00  56940.04  56977.62  46.958464
    2021-05-02 14:53:00+00:00  56977.61  56987.09  56882.98  56885.42  27.752200
    ...                             ...       ...       ...       ...        ...
    2021-05-02 16:49:00+00:00  56596.00  56664.14  56596.00  56640.35  12.777475
    2021-05-02 16:50:00+00:00  56640.35  56689.99  56640.35  56678.33  14.610231
    2021-05-02 16:51:00+00:00  56678.33  56688.99  56636.89  56653.42  11.647158

    [121 rows x 5 columns]
    ```&#34;&#34;&#34;

    @classmethod
    def download_symbol(cls,
                        symbol: str,
                        exchange: tp.Union[str, &#34;ExchangeT&#34;] = &#39;binance&#39;,
                        config: tp.Optional[dict] = None,
                        timeframe: str = &#39;1d&#39;,
                        start: tp.DatetimeLike = 0,
                        end: tp.DatetimeLike = &#39;now UTC&#39;,
                        delay: tp.Optional[float] = None,
                        limit: tp.Optional[int] = 500,
                        retries: int = 3,
                        show_progress: bool = True,
                        params: tp.Optional[dict] = None,
                        tqdm_kwargs: tp.KwargsLike = None) -&gt; tp.Frame:
        &#34;&#34;&#34;Download the symbol.

        Args:
            symbol (str): Symbol.
            exchange (str or object): Exchange identifier or an exchange object of type
                `ccxt.base.exchange.Exchange`.
            config (dict): Config passed to the exchange upon instantiation.

                Will raise an exception if exchange has been already instantiated.
            timeframe (str): Timeframe supported by the exchange.
            start (any): Start datetime.

                See `vectorbt.utils.datetime_.to_tzaware_datetime`.
            end (any): End datetime.

                See `vectorbt.utils.datetime_.to_tzaware_datetime`.
            delay (float): Time to sleep after each request (in milliseconds).

                !!! note
                    Use only if `enableRateLimit` is not set.
            limit (int): The maximum number of returned items.
            retries (int): The number of retries on failure to fetch data.
            show_progress (bool): Whether to show the progress bar.
            tqdm_kwargs (dict): Keyword arguments passed to `tqdm`.
            params (dict): Exchange-specific key-value parameters.

        For defaults, see `data.ccxt` in `vectorbt._settings.settings`.
        &#34;&#34;&#34;
        import ccxt
        from vectorbt._settings import settings
        ccxt_cfg = settings[&#39;data&#39;][&#39;ccxt&#39;]

        if config is None:
            config = {}
        if tqdm_kwargs is None:
            tqdm_kwargs = {}
        if params is None:
            params = {}
        if isinstance(exchange, str):
            if not hasattr(ccxt, exchange):
                raise ValueError(f&#34;Exchange {exchange} not found&#34;)
            # Resolve config
            default_config = {}
            for k, v in ccxt_cfg.items():
                # Get general (not per exchange) settings
                if k in ccxt.exchanges:
                    continue
                default_config[k] = v
            if exchange in ccxt_cfg:
                default_config = merge_dicts(default_config, ccxt_cfg[exchange])
            config = merge_dicts(default_config, config)
            exchange = getattr(ccxt, exchange)(config)
        else:
            if len(config) &gt; 0:
                raise ValueError(&#34;Cannot apply config after instantiation of the exchange&#34;)
        if not exchange.has[&#39;fetchOHLCV&#39;]:
            raise ValueError(f&#34;Exchange {exchange} does not support OHLCV&#34;)
        if timeframe not in exchange.timeframes:
            raise ValueError(f&#34;Exchange {exchange} does not support {timeframe} timeframe&#34;)
        if exchange.has[&#39;fetchOHLCV&#39;] == &#39;emulated&#39;:
            warnings.warn(&#34;Using emulated OHLCV candles&#34;, stacklevel=2)

        def _retry(method):
            @wraps(method)
            def retry_method(*args, **kwargs):
                for i in range(retries):
                    try:
                        return method(*args, **kwargs)
                    except (ccxt.NetworkError, ccxt.ExchangeError) as e:
                        if i == retries - 1:
                            raise e
                    if delay is not None:
                        time.sleep(delay / 1000)

            return retry_method

        @_retry
        def _fetch(_since, _limit):
            return exchange.fetch_ohlcv(
                symbol,
                timeframe=timeframe,
                since=_since,
                limit=_limit,
                params=params
            )

        # Establish the timestamps
        start_ts = datetime_to_ms(to_tzaware_datetime(start, tz=get_utc_tz()))
        try:
            first_data = _fetch(0, 1)
            first_valid_ts = first_data[0][0]
            next_start_ts = start_ts = max(start_ts, first_valid_ts)
        except:
            next_start_ts = start_ts
        end_ts = datetime_to_ms(to_tzaware_datetime(end, tz=get_utc_tz()))

        def _ts_to_str(ts):
            return str(pd.Timestamp(to_tzaware_datetime(ts, tz=get_utc_tz())))

        # Iteratively collect the data
        data: tp.List[list] = []
        with tqdm(disable=not show_progress, **tqdm_kwargs) as pbar:
            pbar.set_description(_ts_to_str(start_ts))
            while True:
                # Fetch the klines for the next interval
                next_data = _fetch(next_start_ts, limit)
                if len(data) &gt; 0:
                    next_data = list(filter(lambda d: next_start_ts &lt; d[0] &lt; end_ts, next_data))
                else:
                    next_data = list(filter(lambda d: d[0] &lt; end_ts, next_data))

                # Update the timestamps and the progress bar
                if not len(next_data):
                    break
                data += next_data
                pbar.set_description(&#34;{} - {}&#34;.format(
                    _ts_to_str(start_ts),
                    _ts_to_str(next_data[-1][0])
                ))
                pbar.update(1)
                next_start_ts = next_data[-1][0]
                if delay is not None:
                    time.sleep(delay / 1000)  # be kind to api

        # Convert data to a DataFrame
        df = pd.DataFrame(data, columns=[
            &#39;Open time&#39;,
            &#39;Open&#39;,
            &#39;High&#39;,
            &#39;Low&#39;,
            &#39;Close&#39;,
            &#39;Volume&#39;
        ])
        df.index = pd.to_datetime(df[&#39;Open time&#39;], unit=&#39;ms&#39;, utc=True)
        del df[&#39;Open time&#39;]
        df[&#39;Open&#39;] = df[&#39;Open&#39;].astype(float)
        df[&#39;High&#39;] = df[&#39;High&#39;].astype(float)
        df[&#39;Low&#39;] = df[&#39;Low&#39;].astype(float)
        df[&#39;Close&#39;] = df[&#39;Close&#39;].astype(float)
        df[&#39;Volume&#39;] = df[&#39;Volume&#39;].astype(float)

        return df

    def update_symbol(self, symbol: str, **kwargs) -&gt; tp.Frame:
        &#34;&#34;&#34;Update the symbol.

        `**kwargs` will override keyword arguments passed to `CCXTData.download_symbol`.&#34;&#34;&#34;
        download_kwargs = self.select_symbol_kwargs(symbol, self.download_kwargs)
        download_kwargs[&#39;start&#39;] = self.data[symbol].index[-1]
        download_kwargs[&#39;show_progress&#39;] = False
        kwargs = merge_dicts(download_kwargs, kwargs)
        return self.download_symbol(symbol, **kwargs)</code></pre>
</details>
<h3 class="section-subtitle">Ancestors</h3>
<ul class="hlist">
<li><a title="vectorbt.data.base.Data" href="base.html#vectorbt.data.base.Data">Data</a></li>
<li><a title="vectorbt.base.array_wrapper.Wrapping" href="../base/array_wrapper.html#vectorbt.base.array_wrapper.Wrapping">Wrapping</a></li>
<li><a title="vectorbt.utils.config.Configured" href="../utils/config.html#vectorbt.utils.config.Configured">Configured</a></li>
<li><a title="vectorbt.utils.config.Pickleable" href="../utils/config.html#vectorbt.utils.config.Pickleable">Pickleable</a></li>
<li><a title="vectorbt.utils.docs.Documented" href="../utils/docs.html#vectorbt.utils.docs.Documented">Documented</a></li>
<li><a title="vectorbt.base.indexing.PandasIndexer" href="../base/indexing.html#vectorbt.base.indexing.PandasIndexer">PandasIndexer</a></li>
<li><a title="vectorbt.base.indexing.IndexingBase" href="../base/indexing.html#vectorbt.base.indexing.IndexingBase">IndexingBase</a></li>
<li><a title="vectorbt.utils.attr_.AttrResolver" href="../utils/attr_.html#vectorbt.utils.attr_.AttrResolver">AttrResolver</a></li>
<li><a title="vectorbt.generic.stats_builder.StatsBuilderMixin" href="../generic/stats_builder.html#vectorbt.generic.stats_builder.StatsBuilderMixin">StatsBuilderMixin</a></li>
<li><a title="vectorbt.generic.plots_builder.PlotsBuilderMixin" href="../generic/plots_builder.html#vectorbt.generic.plots_builder.PlotsBuilderMixin">PlotsBuilderMixin</a></li>
</ul>
<h3 class="section-subtitle">Static methods</h3>
<dl>
<dt id="vectorbt.data.custom.CCXTData.download_symbol"><code class="name flex">
<span>def <span class="ident child-name">download_symbol</span></span>(<span class="params">symbol, exchange='binance', config=None, timeframe='1d', start=0, end='now UTC', delay=None, limit=500, retries=3, show_progress=True, params=None, tqdm_kwargs=None)</span><span class="return_type"></span>
</code></dt>
<dd>
<div class="desc"><p>Download the symbol.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>symbol</code></strong> :&ensp;<code>str</code></dt>
<dd>Symbol.</dd>
<dt><strong><code>exchange</code></strong> :&ensp;<code>str</code> or <code>object</code></dt>
<dd>Exchange identifier or an exchange object of type
<code>ccxt.base.exchange.Exchange</code>.</dd>
<dt><strong><code>config</code></strong> :&ensp;<code>dict</code></dt>
<dd>
<p>Config passed to the exchange upon instantiation.</p>
<p>Will raise an exception if exchange has been already instantiated.</p>
</dd>
<dt><strong><code>timeframe</code></strong> :&ensp;<code>str</code></dt>
<dd>Timeframe supported by the exchange.</dd>
<dt><strong><code>start</code></strong> :&ensp;<code>any</code></dt>
<dd>
<p>Start datetime.</p>
<p>See <code><a title="vectorbt.utils.datetime_.to_tzaware_datetime" href="../utils/datetime_.html#vectorbt.utils.datetime_.to_tzaware_datetime">to_tzaware_datetime()</a></code>.</p>
</dd>
<dt><strong><code>end</code></strong> :&ensp;<code>any</code></dt>
<dd>
<p>End datetime.</p>
<p>See <code><a title="vectorbt.utils.datetime_.to_tzaware_datetime" href="../utils/datetime_.html#vectorbt.utils.datetime_.to_tzaware_datetime">to_tzaware_datetime()</a></code>.</p>
</dd>
<dt><strong><code>delay</code></strong> :&ensp;<code>float</code></dt>
<dd>
<p>Time to sleep after each request (in milliseconds).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Use only if <code>enableRateLimit</code> is not set.</p>
</div>
</dd>
<dt><strong><code>limit</code></strong> :&ensp;<code>int</code></dt>
<dd>The maximum number of returned items.</dd>
<dt><strong><code>retries</code></strong> :&ensp;<code>int</code></dt>
<dd>The number of retries on failure to fetch data.</dd>
<dt><strong><code>show_progress</code></strong> :&ensp;<code>bool</code></dt>
<dd>Whether to show the progress bar.</dd>
<dt><strong><code>tqdm_kwargs</code></strong> :&ensp;<code>dict</code></dt>
<dd>Keyword arguments passed to <code>tqdm</code>.</dd>
<dt><strong><code>params</code></strong> :&ensp;<code>dict</code></dt>
<dd>Exchange-specific key-value parameters.</dd>
</dl>
<p>For defaults, see <code>data.ccxt</code> in <code><a title="vectorbt._settings.settings" href="../_settings.html#vectorbt._settings.settings">settings</a></code>.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@classmethod
def download_symbol(cls,
                    symbol: str,
                    exchange: tp.Union[str, &#34;ExchangeT&#34;] = &#39;binance&#39;,
                    config: tp.Optional[dict] = None,
                    timeframe: str = &#39;1d&#39;,
                    start: tp.DatetimeLike = 0,
                    end: tp.DatetimeLike = &#39;now UTC&#39;,
                    delay: tp.Optional[float] = None,
                    limit: tp.Optional[int] = 500,
                    retries: int = 3,
                    show_progress: bool = True,
                    params: tp.Optional[dict] = None,
                    tqdm_kwargs: tp.KwargsLike = None) -&gt; tp.Frame:
    &#34;&#34;&#34;Download the symbol.

    Args:
        symbol (str): Symbol.
        exchange (str or object): Exchange identifier or an exchange object of type
            `ccxt.base.exchange.Exchange`.
        config (dict): Config passed to the exchange upon instantiation.

            Will raise an exception if exchange has been already instantiated.
        timeframe (str): Timeframe supported by the exchange.
        start (any): Start datetime.

            See `vectorbt.utils.datetime_.to_tzaware_datetime`.
        end (any): End datetime.

            See `vectorbt.utils.datetime_.to_tzaware_datetime`.
        delay (float): Time to sleep after each request (in milliseconds).

            !!! note
                Use only if `enableRateLimit` is not set.
        limit (int): The maximum number of returned items.
        retries (int): The number of retries on failure to fetch data.
        show_progress (bool): Whether to show the progress bar.
        tqdm_kwargs (dict): Keyword arguments passed to `tqdm`.
        params (dict): Exchange-specific key-value parameters.

    For defaults, see `data.ccxt` in `vectorbt._settings.settings`.
    &#34;&#34;&#34;
    import ccxt
    from vectorbt._settings import settings
    ccxt_cfg = settings[&#39;data&#39;][&#39;ccxt&#39;]

    if config is None:
        config = {}
    if tqdm_kwargs is None:
        tqdm_kwargs = {}
    if params is None:
        params = {}
    if isinstance(exchange, str):
        if not hasattr(ccxt, exchange):
            raise ValueError(f&#34;Exchange {exchange} not found&#34;)
        # Resolve config
        default_config = {}
        for k, v in ccxt_cfg.items():
            # Get general (not per exchange) settings
            if k in ccxt.exchanges:
                continue
            default_config[k] = v
        if exchange in ccxt_cfg:
            default_config = merge_dicts(default_config, ccxt_cfg[exchange])
        config = merge_dicts(default_config, config)
        exchange = getattr(ccxt, exchange)(config)
    else:
        if len(config) &gt; 0:
            raise ValueError(&#34;Cannot apply config after instantiation of the exchange&#34;)
    if not exchange.has[&#39;fetchOHLCV&#39;]:
        raise ValueError(f&#34;Exchange {exchange} does not support OHLCV&#34;)
    if timeframe not in exchange.timeframes:
        raise ValueError(f&#34;Exchange {exchange} does not support {timeframe} timeframe&#34;)
    if exchange.has[&#39;fetchOHLCV&#39;] == &#39;emulated&#39;:
        warnings.warn(&#34;Using emulated OHLCV candles&#34;, stacklevel=2)

    def _retry(method):
        @wraps(method)
        def retry_method(*args, **kwargs):
            for i in range(retries):
                try:
                    return method(*args, **kwargs)
                except (ccxt.NetworkError, ccxt.ExchangeError) as e:
                    if i == retries - 1:
                        raise e
                if delay is not None:
                    time.sleep(delay / 1000)

        return retry_method

    @_retry
    def _fetch(_since, _limit):
        return exchange.fetch_ohlcv(
            symbol,
            timeframe=timeframe,
            since=_since,
            limit=_limit,
            params=params
        )

    # Establish the timestamps
    start_ts = datetime_to_ms(to_tzaware_datetime(start, tz=get_utc_tz()))
    try:
        first_data = _fetch(0, 1)
        first_valid_ts = first_data[0][0]
        next_start_ts = start_ts = max(start_ts, first_valid_ts)
    except:
        next_start_ts = start_ts
    end_ts = datetime_to_ms(to_tzaware_datetime(end, tz=get_utc_tz()))

    def _ts_to_str(ts):
        return str(pd.Timestamp(to_tzaware_datetime(ts, tz=get_utc_tz())))

    # Iteratively collect the data
    data: tp.List[list] = []
    with tqdm(disable=not show_progress, **tqdm_kwargs) as pbar:
        pbar.set_description(_ts_to_str(start_ts))
        while True:
            # Fetch the klines for the next interval
            next_data = _fetch(next_start_ts, limit)
            if len(data) &gt; 0:
                next_data = list(filter(lambda d: next_start_ts &lt; d[0] &lt; end_ts, next_data))
            else:
                next_data = list(filter(lambda d: d[0] &lt; end_ts, next_data))

            # Update the timestamps and the progress bar
            if not len(next_data):
                break
            data += next_data
            pbar.set_description(&#34;{} - {}&#34;.format(
                _ts_to_str(start_ts),
                _ts_to_str(next_data[-1][0])
            ))
            pbar.update(1)
            next_start_ts = next_data[-1][0]
            if delay is not None:
                time.sleep(delay / 1000)  # be kind to api

    # Convert data to a DataFrame
    df = pd.DataFrame(data, columns=[
        &#39;Open time&#39;,
        &#39;Open&#39;,
        &#39;High&#39;,
        &#39;Low&#39;,
        &#39;Close&#39;,
        &#39;Volume&#39;
    ])
    df.index = pd.to_datetime(df[&#39;Open time&#39;], unit=&#39;ms&#39;, utc=True)
    del df[&#39;Open time&#39;]
    df[&#39;Open&#39;] = df[&#39;Open&#39;].astype(float)
    df[&#39;High&#39;] = df[&#39;High&#39;].astype(float)
    df[&#39;Low&#39;] = df[&#39;Low&#39;].astype(float)
    df[&#39;Close&#39;] = df[&#39;Close&#39;].astype(float)
    df[&#39;Volume&#39;] = df[&#39;Volume&#39;].astype(float)

    return df</code></pre>
</details>
</dd>
</dl>
<h3 class="section-subtitle">Methods</h3>
<dl>
<dt id="vectorbt.data.custom.CCXTData.update_symbol"><code class="name flex">
<span>def <span class="ident child-name">update_symbol</span></span>(<span class="params">self, symbol, **kwargs)</span><span class="return_type"></span>
</code></dt>
<dd>
<div class="desc"><p>Update the symbol.</p>
<p><code>**kwargs</code> will override keyword arguments passed to <code><a title="vectorbt.data.custom.CCXTData.download_symbol" href="#vectorbt.data.custom.CCXTData.download_symbol">CCXTData.download_symbol()</a></code>.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def update_symbol(self, symbol: str, **kwargs) -&gt; tp.Frame:
    &#34;&#34;&#34;Update the symbol.

    `**kwargs` will override keyword arguments passed to `CCXTData.download_symbol`.&#34;&#34;&#34;
    download_kwargs = self.select_symbol_kwargs(symbol, self.download_kwargs)
    download_kwargs[&#39;start&#39;] = self.data[symbol].index[-1]
    download_kwargs[&#39;show_progress&#39;] = False
    kwargs = merge_dicts(download_kwargs, kwargs)
    return self.download_symbol(symbol, **kwargs)</code></pre>
</details>
</dd>
</dl>
<h3 class="section-subtitle">Inherited members</h3>
<ul class="hlist">
<li><code><b><a title="vectorbt.data.base.Data" href="base.html#vectorbt.data.base.Data">Data</a></b></code>:
<ul class="hlist">
<li><code><a title="vectorbt.data.base.Data.align_columns" href="base.html#vectorbt.data.base.Data.align_columns">align_columns</a></code></li>
<li><code><a title="vectorbt.data.base.Data.align_index" href="base.html#vectorbt.data.base.Data.align_index">align_index</a></code></li>
<li><code><a title="vectorbt.data.base.Data.build_metrics_doc" href="../generic/stats_builder.html#vectorbt.generic.stats_builder.StatsBuilderMixin.build_metrics_doc">build_metrics_doc</a></code></li>
<li><code><a title="vectorbt.data.base.Data.build_subplots_doc" href="../generic/plots_builder.html#vectorbt.generic.plots_builder.PlotsBuilderMixin.build_subplots_doc">build_subplots_doc</a></code></li>
<li><code><a title="vectorbt.data.base.Data.concat" href="base.html#vectorbt.data.base.Data.concat">concat</a></code></li>
<li><code><a title="vectorbt.data.base.Data.config" href="../utils/config.html#vectorbt.utils.config.Configured.config">config</a></code></li>
<li><code><a title="vectorbt.data.base.Data.copy" href="../utils/config.html#vectorbt.utils.config.Configured.copy">copy</a></code></li>
<li><code><a title="vectorbt.data.base.Data.data" href="base.html#vectorbt.data.base.Data.data">data</a></code></li>
<li><code><a title="vectorbt.data.base.Data.deep_getattr" href="../utils/attr_.html#vectorbt.utils.attr_.AttrResolver.deep_getattr">deep_getattr</a></code></li>
<li><code><a title="vectorbt.data.base.Data.download" href="base.html#vectorbt.data.base.Data.download">download</a></code></li>
<li><code><a title="vectorbt.data.base.Data.download_kwargs" href="base.html#vectorbt.data.base.Data.download_kwargs">download_kwargs</a></code></li>
<li><code><a title="vectorbt.data.base.Data.dumps" href="../utils/config.html#vectorbt.utils.config.Pickleable.dumps">dumps</a></code></li>
<li><code><a title="vectorbt.data.base.Data.from_data" href="base.html#vectorbt.data.base.Data.from_data">from_data</a></code></li>
<li><code><a title="vectorbt.data.base.Data.get" href="base.html#vectorbt.data.base.Data.get">get</a></code></li>
<li><code><a title="vectorbt.data.base.Data.iloc" href="../base/indexing.html#vectorbt.base.indexing.PandasIndexer.iloc">iloc</a></code></li>
<li><code><a title="vectorbt.data.base.Data.indexing_func" href="base.html#vectorbt.data.base.Data.indexing_func">indexing_func</a></code></li>
<li><code><a title="vectorbt.data.base.Data.indexing_kwargs" href="../base/indexing.html#vectorbt.base.indexing.PandasIndexer.indexing_kwargs">indexing_kwargs</a></code></li>
<li><code><a title="vectorbt.data.base.Data.load" href="../utils/config.html#vectorbt.utils.config.Pickleable.load">load</a></code></li>
<li><code><a title="vectorbt.data.base.Data.loads" href="../utils/config.html#vectorbt.utils.config.Pickleable.loads">loads</a></code></li>
<li><code><a title="vectorbt.data.base.Data.loc" href="../base/indexing.html#vectorbt.base.indexing.PandasIndexer.loc">loc</a></code></li>
<li><code><a title="vectorbt.data.base.Data.missing_columns" href="base.html#vectorbt.data.base.Data.missing_columns">missing_columns</a></code></li>
<li><code><a title="vectorbt.data.base.Data.missing_index" href="base.html#vectorbt.data.base.Data.missing_index">missing_index</a></code></li>
<li><code><a title="vectorbt.data.base.Data.override_metrics_doc" href="../generic/stats_builder.html#vectorbt.generic.stats_builder.StatsBuilderMixin.override_metrics_doc">override_metrics_doc</a></code></li>
<li><code><a title="vectorbt.data.base.Data.override_subplots_doc" href="../generic/plots_builder.html#vectorbt.generic.plots_builder.PlotsBuilderMixin.override_subplots_doc">override_subplots_doc</a></code></li>
<li><code><a title="vectorbt.data.base.Data.plot" href="base.html#vectorbt.data.base.Data.plot">plot</a></code></li>
<li><code><a title="vectorbt.data.base.Data.plots" href="../generic/plots_builder.html#vectorbt.generic.plots_builder.PlotsBuilderMixin.plots">plots</a></code></li>
<li><code><a title="vectorbt.data.base.Data.plots_defaults" href="base.html#vectorbt.data.base.Data.plots_defaults">plots_defaults</a></code></li>
<li><code><a title="vectorbt.data.base.Data.post_resolve_attr" href="../utils/attr_.html#vectorbt.utils.attr_.AttrResolver.post_resolve_attr">post_resolve_attr</a></code></li>
<li><code><a title="vectorbt.data.base.Data.pre_resolve_attr" href="../utils/attr_.html#vectorbt.utils.attr_.AttrResolver.pre_resolve_attr">pre_resolve_attr</a></code></li>
<li><code><a title="vectorbt.data.base.Data.regroup" href="../base/array_wrapper.html#vectorbt.base.array_wrapper.Wrapping.regroup">regroup</a></code></li>
<li><code><a title="vectorbt.data.base.Data.replace" href="../utils/config.html#vectorbt.utils.config.Configured.replace">replace</a></code></li>
<li><code><a title="vectorbt.data.base.Data.resolve_attr" href="../utils/attr_.html#vectorbt.utils.attr_.AttrResolver.resolve_attr">resolve_attr</a></code></li>
<li><code><a title="vectorbt.data.base.Data.resolve_self" href="../base/array_wrapper.html#vectorbt.base.array_wrapper.Wrapping.resolve_self">resolve_self</a></code></li>
<li><code><a title="vectorbt.data.base.Data.save" href="../utils/config.html#vectorbt.utils.config.Pickleable.save">save</a></code></li>
<li><code><a title="vectorbt.data.base.Data.select_one" href="../base/array_wrapper.html#vectorbt.base.array_wrapper.Wrapping.select_one">select_one</a></code></li>
<li><code><a title="vectorbt.data.base.Data.select_one_from_obj" href="../base/array_wrapper.html#vectorbt.base.array_wrapper.Wrapping.select_one_from_obj">select_one_from_obj</a></code></li>
<li><code><a title="vectorbt.data.base.Data.select_symbol_kwargs" href="base.html#vectorbt.data.base.Data.select_symbol_kwargs">select_symbol_kwargs</a></code></li>
<li><code><a title="vectorbt.data.base.Data.self_aliases" href="../utils/attr_.html#vectorbt.utils.attr_.AttrResolver.self_aliases">self_aliases</a></code></li>
<li><code><a title="vectorbt.data.base.Data.stats" href="../generic/stats_builder.html#vectorbt.generic.stats_builder.StatsBuilderMixin.stats">stats</a></code></li>
<li><code><a title="vectorbt.data.base.Data.stats_defaults" href="base.html#vectorbt.data.base.Data.stats_defaults">stats_defaults</a></code></li>
<li><code><a title="vectorbt.data.base.Data.symbols" href="base.html#vectorbt.data.base.Data.symbols">symbols</a></code></li>
<li><code><a title="vectorbt.data.base.Data.to_doc" href="../utils/docs.html#vectorbt.utils.docs.Documented.to_doc">to_doc</a></code></li>
<li><code><a title="vectorbt.data.base.Data.tz_convert" href="base.html#vectorbt.data.base.Data.tz_convert">tz_convert</a></code></li>
<li><code><a title="vectorbt.data.base.Data.tz_localize" href="base.html#vectorbt.data.base.Data.tz_localize">tz_localize</a></code></li>
<li><code><a title="vectorbt.data.base.Data.update" href="base.html#vectorbt.data.base.Data.update">update</a></code></li>
<li><code><a title="vectorbt.data.base.Data.update_config" href="../utils/config.html#vectorbt.utils.config.Configured.update_config">update_config</a></code></li>
<li><code><a title="vectorbt.data.base.Data.wrapper" href="../base/array_wrapper.html#vectorbt.base.array_wrapper.Wrapping.wrapper">wrapper</a></code></li>
<li><code><a title="vectorbt.data.base.Data.writeable_attrs" href="../utils/config.html#vectorbt.utils.config.Configured.writeable_attrs">writeable_attrs</a></code></li>
<li><code><a title="vectorbt.data.base.Data.xs" href="../base/indexing.html#vectorbt.base.indexing.PandasIndexer.xs">xs</a></code></li>
</ul>
</li>
</ul>
</dd>
<dt id="vectorbt.data.custom.GBMData"><code class="flex name class">
<span>class <span class="ident parent-name">GBMData</span></span>
(<span class="params">wrapper, data, tz_localize, tz_convert, missing_index, missing_columns, download_kwargs, **kwargs</span>)
</code></dt>
<dd>
<div class="desc"><p><code><a title="vectorbt.data.custom.SyntheticData" href="#vectorbt.data.custom.SyntheticData">SyntheticData</a></code> for data generated using Geometric Brownian Motion (GBM).</p>
<h2 id="example">Example</h2>
<p>See the example under <code><a title="vectorbt.data.custom.BinanceData" href="#vectorbt.data.custom.BinanceData">BinanceData</a></code>.</p>
<pre><code class="language-python-repl">&gt;&gt;&gt; import vectorbt as vbt

&gt;&gt;&gt; gbm_data = vbt.GBMData.download('GBM', start='2 hours ago', end='now', freq='1min', seed=42)
&gt;&gt;&gt; gbm_data.get()
2021-05-02 14:14:15.182089+00:00    102.386605
2021-05-02 14:15:15.182089+00:00    101.554203
2021-05-02 14:16:15.182089+00:00    104.765771
...                                        ...
2021-05-02 16:12:15.182089+00:00     51.614839
2021-05-02 16:13:15.182089+00:00     53.525376
2021-05-02 16:14:15.182089+00:00     55.615250
Freq: T, Length: 121, dtype: float64

&gt;&gt;&gt; import time
&gt;&gt;&gt; time.sleep(60)

&gt;&gt;&gt; gbm_data = gbm_data.update()
&gt;&gt;&gt; gbm_data.get()
2021-05-02 14:14:15.182089+00:00    102.386605
2021-05-02 14:15:15.182089+00:00    101.554203
2021-05-02 14:16:15.182089+00:00    104.765771
...                                        ...
2021-05-02 16:13:15.182089+00:00     53.525376
2021-05-02 16:14:15.182089+00:00     51.082220
2021-05-02 16:15:15.182089+00:00     54.725304
Freq: T, Length: 122, dtype: float64
</code></pre></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class GBMData(SyntheticData):
    &#34;&#34;&#34;`SyntheticData` for data generated using Geometric Brownian Motion (GBM).

    ## Example

    See the example under `BinanceData`.

    ```python-repl
    &gt;&gt;&gt; import vectorbt as vbt

    &gt;&gt;&gt; gbm_data = vbt.GBMData.download(&#39;GBM&#39;, start=&#39;2 hours ago&#39;, end=&#39;now&#39;, freq=&#39;1min&#39;, seed=42)
    &gt;&gt;&gt; gbm_data.get()
    2021-05-02 14:14:15.182089+00:00    102.386605
    2021-05-02 14:15:15.182089+00:00    101.554203
    2021-05-02 14:16:15.182089+00:00    104.765771
    ...                                        ...
    2021-05-02 16:12:15.182089+00:00     51.614839
    2021-05-02 16:13:15.182089+00:00     53.525376
    2021-05-02 16:14:15.182089+00:00     55.615250
    Freq: T, Length: 121, dtype: float64

    &gt;&gt;&gt; import time
    &gt;&gt;&gt; time.sleep(60)

    &gt;&gt;&gt; gbm_data = gbm_data.update()
    &gt;&gt;&gt; gbm_data.get()
    2021-05-02 14:14:15.182089+00:00    102.386605
    2021-05-02 14:15:15.182089+00:00    101.554203
    2021-05-02 14:16:15.182089+00:00    104.765771
    ...                                        ...
    2021-05-02 16:13:15.182089+00:00     53.525376
    2021-05-02 16:14:15.182089+00:00     51.082220
    2021-05-02 16:15:15.182089+00:00     54.725304
    Freq: T, Length: 122, dtype: float64
    ```&#34;&#34;&#34;

    @classmethod
    def generate_symbol(cls,
                        symbol: tp.Label,
                        index: tp.Index,
                        S0: float = 100.,
                        mu: float = 0.,
                        sigma: float = 0.05,
                        T: tp.Optional[int] = None,
                        I: int = 1,
                        seed: tp.Optional[int] = None) -&gt; tp.SeriesFrame:
        &#34;&#34;&#34;Generate the symbol using `generate_gbm_paths`.

        Args:
            symbol (str): Symbol.
            index (pd.Index): Pandas index.
            S0 (float): Value at time 0.

                Does not appear as the first value in the output data.
            mu (float): Drift, or mean of the percentage change.
            sigma (float): Standard deviation of the percentage change.
            T (int): Number of time steps.

                Defaults to the length of `index`.
            I (int): Number of generated paths (columns in our case).
            seed (int): Set seed to make the results deterministic.
        &#34;&#34;&#34;
        if T is None:
            T = len(index)
        out = generate_gbm_paths(S0, mu, sigma, T, len(index), I, seed=seed)[1:]
        if out.shape[1] == 1:
            return pd.Series(out[:, 0], index=index)
        columns = pd.RangeIndex(stop=out.shape[1], name=&#39;path&#39;)
        return pd.DataFrame(out, index=index, columns=columns)

    def update_symbol(self, symbol: tp.Label, **kwargs) -&gt; tp.SeriesFrame:
        &#34;&#34;&#34;Update the symbol.

        `**kwargs` will override keyword arguments passed to `GBMData.download_symbol`.&#34;&#34;&#34;
        download_kwargs = self.select_symbol_kwargs(symbol, self.download_kwargs)
        download_kwargs[&#39;start&#39;] = self.data[symbol].index[-1]
        _ = download_kwargs.pop(&#39;S0&#39;, None)
        S0 = self.data[symbol].iloc[-2]
        _ = download_kwargs.pop(&#39;T&#39;, None)
        download_kwargs[&#39;seed&#39;] = None
        kwargs = merge_dicts(download_kwargs, kwargs)
        return self.download_symbol(symbol, S0=S0, **kwargs)</code></pre>
</details>
<h3 class="section-subtitle">Ancestors</h3>
<ul class="hlist">
<li><a title="vectorbt.data.custom.SyntheticData" href="#vectorbt.data.custom.SyntheticData">SyntheticData</a></li>
<li><a title="vectorbt.data.base.Data" href="base.html#vectorbt.data.base.Data">Data</a></li>
<li><a title="vectorbt.base.array_wrapper.Wrapping" href="../base/array_wrapper.html#vectorbt.base.array_wrapper.Wrapping">Wrapping</a></li>
<li><a title="vectorbt.utils.config.Configured" href="../utils/config.html#vectorbt.utils.config.Configured">Configured</a></li>
<li><a title="vectorbt.utils.config.Pickleable" href="../utils/config.html#vectorbt.utils.config.Pickleable">Pickleable</a></li>
<li><a title="vectorbt.utils.docs.Documented" href="../utils/docs.html#vectorbt.utils.docs.Documented">Documented</a></li>
<li><a title="vectorbt.base.indexing.PandasIndexer" href="../base/indexing.html#vectorbt.base.indexing.PandasIndexer">PandasIndexer</a></li>
<li><a title="vectorbt.base.indexing.IndexingBase" href="../base/indexing.html#vectorbt.base.indexing.IndexingBase">IndexingBase</a></li>
<li><a title="vectorbt.utils.attr_.AttrResolver" href="../utils/attr_.html#vectorbt.utils.attr_.AttrResolver">AttrResolver</a></li>
<li><a title="vectorbt.generic.stats_builder.StatsBuilderMixin" href="../generic/stats_builder.html#vectorbt.generic.stats_builder.StatsBuilderMixin">StatsBuilderMixin</a></li>
<li><a title="vectorbt.generic.plots_builder.PlotsBuilderMixin" href="../generic/plots_builder.html#vectorbt.generic.plots_builder.PlotsBuilderMixin">PlotsBuilderMixin</a></li>
</ul>
<h3 class="section-subtitle">Static methods</h3>
<dl>
<dt id="vectorbt.data.custom.GBMData.generate_symbol"><code class="name flex">
<span>def <span class="ident child-name">generate_symbol</span></span>(<span class="params">symbol, index, S0=100.0, mu=0.0, sigma=0.05, T=None, I=1, seed=None)</span><span class="return_type"></span>
</code></dt>
<dd>
<div class="desc"><p>Generate the symbol using <code><a title="vectorbt.data.custom.generate_gbm_paths" href="#vectorbt.data.custom.generate_gbm_paths">generate_gbm_paths()</a></code>.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>symbol</code></strong> :&ensp;<code>str</code></dt>
<dd>Symbol.</dd>
<dt><strong><code>index</code></strong> :&ensp;<code>pd.Index</code></dt>
<dd>Pandas index.</dd>
<dt><strong><code>S0</code></strong> :&ensp;<code>float</code></dt>
<dd>
<p>Value at time 0.</p>
<p>Does not appear as the first value in the output data.</p>
</dd>
<dt><strong><code>mu</code></strong> :&ensp;<code>float</code></dt>
<dd>Drift, or mean of the percentage change.</dd>
<dt><strong><code>sigma</code></strong> :&ensp;<code>float</code></dt>
<dd>Standard deviation of the percentage change.</dd>
<dt><strong><code>T</code></strong> :&ensp;<code>int</code></dt>
<dd>
<p>Number of time steps.</p>
<p>Defaults to the length of <code>index</code>.</p>
</dd>
<dt><strong><code>I</code></strong> :&ensp;<code>int</code></dt>
<dd>Number of generated paths (columns in our case).</dd>
<dt><strong><code>seed</code></strong> :&ensp;<code>int</code></dt>
<dd>Set seed to make the results deterministic.</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@classmethod
def generate_symbol(cls,
                    symbol: tp.Label,
                    index: tp.Index,
                    S0: float = 100.,
                    mu: float = 0.,
                    sigma: float = 0.05,
                    T: tp.Optional[int] = None,
                    I: int = 1,
                    seed: tp.Optional[int] = None) -&gt; tp.SeriesFrame:
    &#34;&#34;&#34;Generate the symbol using `generate_gbm_paths`.

    Args:
        symbol (str): Symbol.
        index (pd.Index): Pandas index.
        S0 (float): Value at time 0.

            Does not appear as the first value in the output data.
        mu (float): Drift, or mean of the percentage change.
        sigma (float): Standard deviation of the percentage change.
        T (int): Number of time steps.

            Defaults to the length of `index`.
        I (int): Number of generated paths (columns in our case).
        seed (int): Set seed to make the results deterministic.
    &#34;&#34;&#34;
    if T is None:
        T = len(index)
    out = generate_gbm_paths(S0, mu, sigma, T, len(index), I, seed=seed)[1:]
    if out.shape[1] == 1:
        return pd.Series(out[:, 0], index=index)
    columns = pd.RangeIndex(stop=out.shape[1], name=&#39;path&#39;)
    return pd.DataFrame(out, index=index, columns=columns)</code></pre>
</details>
</dd>
</dl>
<h3 class="section-subtitle">Methods</h3>
<dl>
<dt id="vectorbt.data.custom.GBMData.update_symbol"><code class="name flex">
<span>def <span class="ident child-name">update_symbol</span></span>(<span class="params">self, symbol, **kwargs)</span><span class="return_type"></span>
</code></dt>
<dd>
<div class="desc"><p>Update the symbol.</p>
<p><code>**kwargs</code> will override keyword arguments passed to <code><a title="vectorbt.data.custom.GBMData.download_symbol" href="#vectorbt.data.custom.SyntheticData.download_symbol">SyntheticData.download_symbol()</a></code>.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def update_symbol(self, symbol: tp.Label, **kwargs) -&gt; tp.SeriesFrame:
    &#34;&#34;&#34;Update the symbol.

    `**kwargs` will override keyword arguments passed to `GBMData.download_symbol`.&#34;&#34;&#34;
    download_kwargs = self.select_symbol_kwargs(symbol, self.download_kwargs)
    download_kwargs[&#39;start&#39;] = self.data[symbol].index[-1]
    _ = download_kwargs.pop(&#39;S0&#39;, None)
    S0 = self.data[symbol].iloc[-2]
    _ = download_kwargs.pop(&#39;T&#39;, None)
    download_kwargs[&#39;seed&#39;] = None
    kwargs = merge_dicts(download_kwargs, kwargs)
    return self.download_symbol(symbol, S0=S0, **kwargs)</code></pre>
</details>
</dd>
</dl>
<h3 class="section-subtitle">Inherited members</h3>
<ul class="hlist">
<li><code><b><a title="vectorbt.data.custom.SyntheticData" href="#vectorbt.data.custom.SyntheticData">SyntheticData</a></b></code>:
<ul class="hlist">
<li><code><a title="vectorbt.data.custom.SyntheticData.align_columns" href="base.html#vectorbt.data.base.Data.align_columns">align_columns</a></code></li>
<li><code><a title="vectorbt.data.custom.SyntheticData.align_index" href="base.html#vectorbt.data.base.Data.align_index">align_index</a></code></li>
<li><code><a title="vectorbt.data.custom.SyntheticData.build_metrics_doc" href="../generic/stats_builder.html#vectorbt.generic.stats_builder.StatsBuilderMixin.build_metrics_doc">build_metrics_doc</a></code></li>
<li><code><a title="vectorbt.data.custom.SyntheticData.build_subplots_doc" href="../generic/plots_builder.html#vectorbt.generic.plots_builder.PlotsBuilderMixin.build_subplots_doc">build_subplots_doc</a></code></li>
<li><code><a title="vectorbt.data.custom.SyntheticData.concat" href="base.html#vectorbt.data.base.Data.concat">concat</a></code></li>
<li><code><a title="vectorbt.data.custom.SyntheticData.config" href="../utils/config.html#vectorbt.utils.config.Configured.config">config</a></code></li>
<li><code><a title="vectorbt.data.custom.SyntheticData.copy" href="../utils/config.html#vectorbt.utils.config.Configured.copy">copy</a></code></li>
<li><code><a title="vectorbt.data.custom.SyntheticData.data" href="base.html#vectorbt.data.base.Data.data">data</a></code></li>
<li><code><a title="vectorbt.data.custom.SyntheticData.deep_getattr" href="../utils/attr_.html#vectorbt.utils.attr_.AttrResolver.deep_getattr">deep_getattr</a></code></li>
<li><code><a title="vectorbt.data.custom.SyntheticData.download" href="base.html#vectorbt.data.base.Data.download">download</a></code></li>
<li><code><a title="vectorbt.data.custom.SyntheticData.download_kwargs" href="base.html#vectorbt.data.base.Data.download_kwargs">download_kwargs</a></code></li>
<li><code><a title="vectorbt.data.custom.SyntheticData.download_symbol" href="#vectorbt.data.custom.SyntheticData.download_symbol">download_symbol</a></code></li>
<li><code><a title="vectorbt.data.custom.SyntheticData.dumps" href="../utils/config.html#vectorbt.utils.config.Pickleable.dumps">dumps</a></code></li>
<li><code><a title="vectorbt.data.custom.SyntheticData.from_data" href="base.html#vectorbt.data.base.Data.from_data">from_data</a></code></li>
<li><code><a title="vectorbt.data.custom.SyntheticData.get" href="base.html#vectorbt.data.base.Data.get">get</a></code></li>
<li><code><a title="vectorbt.data.custom.SyntheticData.iloc" href="../base/indexing.html#vectorbt.base.indexing.PandasIndexer.iloc">iloc</a></code></li>
<li><code><a title="vectorbt.data.custom.SyntheticData.indexing_func" href="base.html#vectorbt.data.base.Data.indexing_func">indexing_func</a></code></li>
<li><code><a title="vectorbt.data.custom.SyntheticData.indexing_kwargs" href="../base/indexing.html#vectorbt.base.indexing.PandasIndexer.indexing_kwargs">indexing_kwargs</a></code></li>
<li><code><a title="vectorbt.data.custom.SyntheticData.load" href="../utils/config.html#vectorbt.utils.config.Pickleable.load">load</a></code></li>
<li><code><a title="vectorbt.data.custom.SyntheticData.loads" href="../utils/config.html#vectorbt.utils.config.Pickleable.loads">loads</a></code></li>
<li><code><a title="vectorbt.data.custom.SyntheticData.loc" href="../base/indexing.html#vectorbt.base.indexing.PandasIndexer.loc">loc</a></code></li>
<li><code><a title="vectorbt.data.custom.SyntheticData.missing_columns" href="base.html#vectorbt.data.base.Data.missing_columns">missing_columns</a></code></li>
<li><code><a title="vectorbt.data.custom.SyntheticData.missing_index" href="base.html#vectorbt.data.base.Data.missing_index">missing_index</a></code></li>
<li><code><a title="vectorbt.data.custom.SyntheticData.override_metrics_doc" href="../generic/stats_builder.html#vectorbt.generic.stats_builder.StatsBuilderMixin.override_metrics_doc">override_metrics_doc</a></code></li>
<li><code><a title="vectorbt.data.custom.SyntheticData.override_subplots_doc" href="../generic/plots_builder.html#vectorbt.generic.plots_builder.PlotsBuilderMixin.override_subplots_doc">override_subplots_doc</a></code></li>
<li><code><a title="vectorbt.data.custom.SyntheticData.plot" href="base.html#vectorbt.data.base.Data.plot">plot</a></code></li>
<li><code><a title="vectorbt.data.custom.SyntheticData.plots" href="../generic/plots_builder.html#vectorbt.generic.plots_builder.PlotsBuilderMixin.plots">plots</a></code></li>
<li><code><a title="vectorbt.data.custom.SyntheticData.plots_defaults" href="base.html#vectorbt.data.base.Data.plots_defaults">plots_defaults</a></code></li>
<li><code><a title="vectorbt.data.custom.SyntheticData.post_resolve_attr" href="../utils/attr_.html#vectorbt.utils.attr_.AttrResolver.post_resolve_attr">post_resolve_attr</a></code></li>
<li><code><a title="vectorbt.data.custom.SyntheticData.pre_resolve_attr" href="../utils/attr_.html#vectorbt.utils.attr_.AttrResolver.pre_resolve_attr">pre_resolve_attr</a></code></li>
<li><code><a title="vectorbt.data.custom.SyntheticData.regroup" href="../base/array_wrapper.html#vectorbt.base.array_wrapper.Wrapping.regroup">regroup</a></code></li>
<li><code><a title="vectorbt.data.custom.SyntheticData.replace" href="../utils/config.html#vectorbt.utils.config.Configured.replace">replace</a></code></li>
<li><code><a title="vectorbt.data.custom.SyntheticData.resolve_attr" href="../utils/attr_.html#vectorbt.utils.attr_.AttrResolver.resolve_attr">resolve_attr</a></code></li>
<li><code><a title="vectorbt.data.custom.SyntheticData.resolve_self" href="../base/array_wrapper.html#vectorbt.base.array_wrapper.Wrapping.resolve_self">resolve_self</a></code></li>
<li><code><a title="vectorbt.data.custom.SyntheticData.save" href="../utils/config.html#vectorbt.utils.config.Pickleable.save">save</a></code></li>
<li><code><a title="vectorbt.data.custom.SyntheticData.select_one" href="../base/array_wrapper.html#vectorbt.base.array_wrapper.Wrapping.select_one">select_one</a></code></li>
<li><code><a title="vectorbt.data.custom.SyntheticData.select_one_from_obj" href="../base/array_wrapper.html#vectorbt.base.array_wrapper.Wrapping.select_one_from_obj">select_one_from_obj</a></code></li>
<li><code><a title="vectorbt.data.custom.SyntheticData.select_symbol_kwargs" href="base.html#vectorbt.data.base.Data.select_symbol_kwargs">select_symbol_kwargs</a></code></li>
<li><code><a title="vectorbt.data.custom.SyntheticData.self_aliases" href="../utils/attr_.html#vectorbt.utils.attr_.AttrResolver.self_aliases">self_aliases</a></code></li>
<li><code><a title="vectorbt.data.custom.SyntheticData.stats" href="../generic/stats_builder.html#vectorbt.generic.stats_builder.StatsBuilderMixin.stats">stats</a></code></li>
<li><code><a title="vectorbt.data.custom.SyntheticData.stats_defaults" href="base.html#vectorbt.data.base.Data.stats_defaults">stats_defaults</a></code></li>
<li><code><a title="vectorbt.data.custom.SyntheticData.symbols" href="base.html#vectorbt.data.base.Data.symbols">symbols</a></code></li>
<li><code><a title="vectorbt.data.custom.SyntheticData.to_doc" href="../utils/docs.html#vectorbt.utils.docs.Documented.to_doc">to_doc</a></code></li>
<li><code><a title="vectorbt.data.custom.SyntheticData.tz_convert" href="base.html#vectorbt.data.base.Data.tz_convert">tz_convert</a></code></li>
<li><code><a title="vectorbt.data.custom.SyntheticData.tz_localize" href="base.html#vectorbt.data.base.Data.tz_localize">tz_localize</a></code></li>
<li><code><a title="vectorbt.data.custom.SyntheticData.update" href="base.html#vectorbt.data.base.Data.update">update</a></code></li>
<li><code><a title="vectorbt.data.custom.SyntheticData.update_config" href="../utils/config.html#vectorbt.utils.config.Configured.update_config">update_config</a></code></li>
<li><code><a title="vectorbt.data.custom.SyntheticData.wrapper" href="../base/array_wrapper.html#vectorbt.base.array_wrapper.Wrapping.wrapper">wrapper</a></code></li>
<li><code><a title="vectorbt.data.custom.SyntheticData.writeable_attrs" href="../utils/config.html#vectorbt.utils.config.Configured.writeable_attrs">writeable_attrs</a></code></li>
<li><code><a title="vectorbt.data.custom.SyntheticData.xs" href="../base/indexing.html#vectorbt.base.indexing.PandasIndexer.xs">xs</a></code></li>
</ul>
</li>
</ul>
</dd>
<dt id="vectorbt.data.custom.SyntheticData"><code class="flex name class">
<span>class <span class="ident parent-name">SyntheticData</span></span>
(<span class="params">wrapper, data, tz_localize, tz_convert, missing_index, missing_columns, download_kwargs, **kwargs</span>)
</code></dt>
<dd>
<div class="desc"><p><code>Data</code> for synthetically generated data.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class SyntheticData(Data):
    &#34;&#34;&#34;`Data` for synthetically generated data.&#34;&#34;&#34;

    @classmethod
    def generate_symbol(cls, symbol: tp.Label, index: tp.Index, **kwargs) -&gt; tp.SeriesFrame:
        &#34;&#34;&#34;Abstract method to generate a symbol.&#34;&#34;&#34;
        raise NotImplementedError

    @classmethod
    def download_symbol(cls,
                        symbol: tp.Label,
                        start: tp.DatetimeLike = 0,
                        end: tp.DatetimeLike = &#39;now&#39;,
                        freq: tp.Union[None, str, pd.DateOffset] = None,
                        date_range_kwargs: tp.KwargsLike = None,
                        **kwargs) -&gt; tp.SeriesFrame:
        &#34;&#34;&#34;Download the symbol.

        Generates datetime index and passes it to `SyntheticData.generate_symbol` to fill
        the Series/DataFrame with generated data.&#34;&#34;&#34;
        if date_range_kwargs is None:
            date_range_kwargs = {}
        index = pd.date_range(
            start=to_tzaware_datetime(start, tz=get_utc_tz()),
            end=to_tzaware_datetime(end, tz=get_utc_tz()),
            freq=freq,
            **date_range_kwargs
        )
        if len(index) == 0:
            raise ValueError(&#34;Date range is empty&#34;)
        return cls.generate_symbol(symbol, index, **kwargs)

    def update_symbol(self, symbol: tp.Label, **kwargs) -&gt; tp.SeriesFrame:
        &#34;&#34;&#34;Update the symbol.

        `**kwargs` will override keyword arguments passed to `SyntheticData.download_symbol`.&#34;&#34;&#34;
        download_kwargs = self.select_symbol_kwargs(symbol, self.download_kwargs)
        download_kwargs[&#39;start&#39;] = self.data[symbol].index[-1]
        kwargs = merge_dicts(download_kwargs, kwargs)
        return self.download_symbol(symbol, **kwargs)</code></pre>
</details>
<h3 class="section-subtitle">Ancestors</h3>
<ul class="hlist">
<li><a title="vectorbt.data.base.Data" href="base.html#vectorbt.data.base.Data">Data</a></li>
<li><a title="vectorbt.base.array_wrapper.Wrapping" href="../base/array_wrapper.html#vectorbt.base.array_wrapper.Wrapping">Wrapping</a></li>
<li><a title="vectorbt.utils.config.Configured" href="../utils/config.html#vectorbt.utils.config.Configured">Configured</a></li>
<li><a title="vectorbt.utils.config.Pickleable" href="../utils/config.html#vectorbt.utils.config.Pickleable">Pickleable</a></li>
<li><a title="vectorbt.utils.docs.Documented" href="../utils/docs.html#vectorbt.utils.docs.Documented">Documented</a></li>
<li><a title="vectorbt.base.indexing.PandasIndexer" href="../base/indexing.html#vectorbt.base.indexing.PandasIndexer">PandasIndexer</a></li>
<li><a title="vectorbt.base.indexing.IndexingBase" href="../base/indexing.html#vectorbt.base.indexing.IndexingBase">IndexingBase</a></li>
<li><a title="vectorbt.utils.attr_.AttrResolver" href="../utils/attr_.html#vectorbt.utils.attr_.AttrResolver">AttrResolver</a></li>
<li><a title="vectorbt.generic.stats_builder.StatsBuilderMixin" href="../generic/stats_builder.html#vectorbt.generic.stats_builder.StatsBuilderMixin">StatsBuilderMixin</a></li>
<li><a title="vectorbt.generic.plots_builder.PlotsBuilderMixin" href="../generic/plots_builder.html#vectorbt.generic.plots_builder.PlotsBuilderMixin">PlotsBuilderMixin</a></li>
</ul>
<h3 class="section-subtitle">Subclasses</h3>
<ul class="hlist">
<li><a title="vectorbt.data.custom.GBMData" href="#vectorbt.data.custom.GBMData">GBMData</a></li>
</ul>
<h3 class="section-subtitle">Static methods</h3>
<dl>
<dt id="vectorbt.data.custom.SyntheticData.download_symbol"><code class="name flex">
<span>def <span class="ident child-name">download_symbol</span></span>(<span class="params">symbol, start=0, end='now', freq=None, date_range_kwargs=None, **kwargs)</span><span class="return_type"></span>
</code></dt>
<dd>
<div class="desc"><p>Download the symbol.</p>
<p>Generates datetime index and passes it to <code><a title="vectorbt.data.custom.SyntheticData.generate_symbol" href="#vectorbt.data.custom.SyntheticData.generate_symbol">SyntheticData.generate_symbol()</a></code> to fill
the Series/DataFrame with generated data.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@classmethod
def download_symbol(cls,
                    symbol: tp.Label,
                    start: tp.DatetimeLike = 0,
                    end: tp.DatetimeLike = &#39;now&#39;,
                    freq: tp.Union[None, str, pd.DateOffset] = None,
                    date_range_kwargs: tp.KwargsLike = None,
                    **kwargs) -&gt; tp.SeriesFrame:
    &#34;&#34;&#34;Download the symbol.

    Generates datetime index and passes it to `SyntheticData.generate_symbol` to fill
    the Series/DataFrame with generated data.&#34;&#34;&#34;
    if date_range_kwargs is None:
        date_range_kwargs = {}
    index = pd.date_range(
        start=to_tzaware_datetime(start, tz=get_utc_tz()),
        end=to_tzaware_datetime(end, tz=get_utc_tz()),
        freq=freq,
        **date_range_kwargs
    )
    if len(index) == 0:
        raise ValueError(&#34;Date range is empty&#34;)
    return cls.generate_symbol(symbol, index, **kwargs)</code></pre>
</details>
</dd>
<dt id="vectorbt.data.custom.SyntheticData.generate_symbol"><code class="name flex">
<span>def <span class="ident child-name">generate_symbol</span></span>(<span class="params">symbol, index, **kwargs)</span><span class="return_type"></span>
</code></dt>
<dd>
<div class="desc"><p>Abstract method to generate a symbol.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@classmethod
def generate_symbol(cls, symbol: tp.Label, index: tp.Index, **kwargs) -&gt; tp.SeriesFrame:
    &#34;&#34;&#34;Abstract method to generate a symbol.&#34;&#34;&#34;
    raise NotImplementedError</code></pre>
</details>
</dd>
</dl>
<h3 class="section-subtitle">Methods</h3>
<dl>
<dt id="vectorbt.data.custom.SyntheticData.update_symbol"><code class="name flex">
<span>def <span class="ident child-name">update_symbol</span></span>(<span class="params">self, symbol, **kwargs)</span><span class="return_type"></span>
</code></dt>
<dd>
<div class="desc"><p>Update the symbol.</p>
<p><code>**kwargs</code> will override keyword arguments passed to <code><a title="vectorbt.data.custom.SyntheticData.download_symbol" href="#vectorbt.data.custom.SyntheticData.download_symbol">SyntheticData.download_symbol()</a></code>.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def update_symbol(self, symbol: tp.Label, **kwargs) -&gt; tp.SeriesFrame:
    &#34;&#34;&#34;Update the symbol.

    `**kwargs` will override keyword arguments passed to `SyntheticData.download_symbol`.&#34;&#34;&#34;
    download_kwargs = self.select_symbol_kwargs(symbol, self.download_kwargs)
    download_kwargs[&#39;start&#39;] = self.data[symbol].index[-1]
    kwargs = merge_dicts(download_kwargs, kwargs)
    return self.download_symbol(symbol, **kwargs)</code></pre>
</details>
</dd>
</dl>
<h3 class="section-subtitle">Inherited members</h3>
<ul class="hlist">
<li><code><b><a title="vectorbt.data.base.Data" href="base.html#vectorbt.data.base.Data">Data</a></b></code>:
<ul class="hlist">
<li><code><a title="vectorbt.data.base.Data.align_columns" href="base.html#vectorbt.data.base.Data.align_columns">align_columns</a></code></li>
<li><code><a title="vectorbt.data.base.Data.align_index" href="base.html#vectorbt.data.base.Data.align_index">align_index</a></code></li>
<li><code><a title="vectorbt.data.base.Data.build_metrics_doc" href="../generic/stats_builder.html#vectorbt.generic.stats_builder.StatsBuilderMixin.build_metrics_doc">build_metrics_doc</a></code></li>
<li><code><a title="vectorbt.data.base.Data.build_subplots_doc" href="../generic/plots_builder.html#vectorbt.generic.plots_builder.PlotsBuilderMixin.build_subplots_doc">build_subplots_doc</a></code></li>
<li><code><a title="vectorbt.data.base.Data.concat" href="base.html#vectorbt.data.base.Data.concat">concat</a></code></li>
<li><code><a title="vectorbt.data.base.Data.config" href="../utils/config.html#vectorbt.utils.config.Configured.config">config</a></code></li>
<li><code><a title="vectorbt.data.base.Data.copy" href="../utils/config.html#vectorbt.utils.config.Configured.copy">copy</a></code></li>
<li><code><a title="vectorbt.data.base.Data.data" href="base.html#vectorbt.data.base.Data.data">data</a></code></li>
<li><code><a title="vectorbt.data.base.Data.deep_getattr" href="../utils/attr_.html#vectorbt.utils.attr_.AttrResolver.deep_getattr">deep_getattr</a></code></li>
<li><code><a title="vectorbt.data.base.Data.download" href="base.html#vectorbt.data.base.Data.download">download</a></code></li>
<li><code><a title="vectorbt.data.base.Data.download_kwargs" href="base.html#vectorbt.data.base.Data.download_kwargs">download_kwargs</a></code></li>
<li><code><a title="vectorbt.data.base.Data.dumps" href="../utils/config.html#vectorbt.utils.config.Pickleable.dumps">dumps</a></code></li>
<li><code><a title="vectorbt.data.base.Data.from_data" href="base.html#vectorbt.data.base.Data.from_data">from_data</a></code></li>
<li><code><a title="vectorbt.data.base.Data.get" href="base.html#vectorbt.data.base.Data.get">get</a></code></li>
<li><code><a title="vectorbt.data.base.Data.iloc" href="../base/indexing.html#vectorbt.base.indexing.PandasIndexer.iloc">iloc</a></code></li>
<li><code><a title="vectorbt.data.base.Data.indexing_func" href="base.html#vectorbt.data.base.Data.indexing_func">indexing_func</a></code></li>
<li><code><a title="vectorbt.data.base.Data.indexing_kwargs" href="../base/indexing.html#vectorbt.base.indexing.PandasIndexer.indexing_kwargs">indexing_kwargs</a></code></li>
<li><code><a title="vectorbt.data.base.Data.load" href="../utils/config.html#vectorbt.utils.config.Pickleable.load">load</a></code></li>
<li><code><a title="vectorbt.data.base.Data.loads" href="../utils/config.html#vectorbt.utils.config.Pickleable.loads">loads</a></code></li>
<li><code><a title="vectorbt.data.base.Data.loc" href="../base/indexing.html#vectorbt.base.indexing.PandasIndexer.loc">loc</a></code></li>
<li><code><a title="vectorbt.data.base.Data.missing_columns" href="base.html#vectorbt.data.base.Data.missing_columns">missing_columns</a></code></li>
<li><code><a title="vectorbt.data.base.Data.missing_index" href="base.html#vectorbt.data.base.Data.missing_index">missing_index</a></code></li>
<li><code><a title="vectorbt.data.base.Data.override_metrics_doc" href="../generic/stats_builder.html#vectorbt.generic.stats_builder.StatsBuilderMixin.override_metrics_doc">override_metrics_doc</a></code></li>
<li><code><a title="vectorbt.data.base.Data.override_subplots_doc" href="../generic/plots_builder.html#vectorbt.generic.plots_builder.PlotsBuilderMixin.override_subplots_doc">override_subplots_doc</a></code></li>
<li><code><a title="vectorbt.data.base.Data.plot" href="base.html#vectorbt.data.base.Data.plot">plot</a></code></li>
<li><code><a title="vectorbt.data.base.Data.plots" href="../generic/plots_builder.html#vectorbt.generic.plots_builder.PlotsBuilderMixin.plots">plots</a></code></li>
<li><code><a title="vectorbt.data.base.Data.plots_defaults" href="base.html#vectorbt.data.base.Data.plots_defaults">plots_defaults</a></code></li>
<li><code><a title="vectorbt.data.base.Data.post_resolve_attr" href="../utils/attr_.html#vectorbt.utils.attr_.AttrResolver.post_resolve_attr">post_resolve_attr</a></code></li>
<li><code><a title="vectorbt.data.base.Data.pre_resolve_attr" href="../utils/attr_.html#vectorbt.utils.attr_.AttrResolver.pre_resolve_attr">pre_resolve_attr</a></code></li>
<li><code><a title="vectorbt.data.base.Data.regroup" href="../base/array_wrapper.html#vectorbt.base.array_wrapper.Wrapping.regroup">regroup</a></code></li>
<li><code><a title="vectorbt.data.base.Data.replace" href="../utils/config.html#vectorbt.utils.config.Configured.replace">replace</a></code></li>
<li><code><a title="vectorbt.data.base.Data.resolve_attr" href="../utils/attr_.html#vectorbt.utils.attr_.AttrResolver.resolve_attr">resolve_attr</a></code></li>
<li><code><a title="vectorbt.data.base.Data.resolve_self" href="../base/array_wrapper.html#vectorbt.base.array_wrapper.Wrapping.resolve_self">resolve_self</a></code></li>
<li><code><a title="vectorbt.data.base.Data.save" href="../utils/config.html#vectorbt.utils.config.Pickleable.save">save</a></code></li>
<li><code><a title="vectorbt.data.base.Data.select_one" href="../base/array_wrapper.html#vectorbt.base.array_wrapper.Wrapping.select_one">select_one</a></code></li>
<li><code><a title="vectorbt.data.base.Data.select_one_from_obj" href="../base/array_wrapper.html#vectorbt.base.array_wrapper.Wrapping.select_one_from_obj">select_one_from_obj</a></code></li>
<li><code><a title="vectorbt.data.base.Data.select_symbol_kwargs" href="base.html#vectorbt.data.base.Data.select_symbol_kwargs">select_symbol_kwargs</a></code></li>
<li><code><a title="vectorbt.data.base.Data.self_aliases" href="../utils/attr_.html#vectorbt.utils.attr_.AttrResolver.self_aliases">self_aliases</a></code></li>
<li><code><a title="vectorbt.data.base.Data.stats" href="../generic/stats_builder.html#vectorbt.generic.stats_builder.StatsBuilderMixin.stats">stats</a></code></li>
<li><code><a title="vectorbt.data.base.Data.stats_defaults" href="base.html#vectorbt.data.base.Data.stats_defaults">stats_defaults</a></code></li>
<li><code><a title="vectorbt.data.base.Data.symbols" href="base.html#vectorbt.data.base.Data.symbols">symbols</a></code></li>
<li><code><a title="vectorbt.data.base.Data.to_doc" href="../utils/docs.html#vectorbt.utils.docs.Documented.to_doc">to_doc</a></code></li>
<li><code><a title="vectorbt.data.base.Data.tz_convert" href="base.html#vectorbt.data.base.Data.tz_convert">tz_convert</a></code></li>
<li><code><a title="vectorbt.data.base.Data.tz_localize" href="base.html#vectorbt.data.base.Data.tz_localize">tz_localize</a></code></li>
<li><code><a title="vectorbt.data.base.Data.update" href="base.html#vectorbt.data.base.Data.update">update</a></code></li>
<li><code><a title="vectorbt.data.base.Data.update_config" href="../utils/config.html#vectorbt.utils.config.Configured.update_config">update_config</a></code></li>
<li><code><a title="vectorbt.data.base.Data.wrapper" href="../base/array_wrapper.html#vectorbt.base.array_wrapper.Wrapping.wrapper">wrapper</a></code></li>
<li><code><a title="vectorbt.data.base.Data.writeable_attrs" href="../utils/config.html#vectorbt.utils.config.Configured.writeable_attrs">writeable_attrs</a></code></li>
<li><code><a title="vectorbt.data.base.Data.xs" href="../base/indexing.html#vectorbt.base.indexing.PandasIndexer.xs">xs</a></code></li>
</ul>
</li>
</ul>
</dd>
<dt id="vectorbt.data.custom.YFData"><code class="flex name class">
<span>class <span class="ident parent-name">YFData</span></span>
(<span class="params">wrapper, data, tz_localize, tz_convert, missing_index, missing_columns, download_kwargs, **kwargs</span>)
</code></dt>
<dd>
<div class="desc"><p><code>Data</code> for data coming from <code>yfinance</code>.</p>
<p>Stocks are usually in the timezone "+0500" and cryptocurrencies in UTC.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Data coming from Yahoo is not the most stable data out there. Yahoo may manipulate data
how they want, add noise, return missing data points (see volume in the example below), etc.
It's only used in vectorbt for demonstration purposes.</p>
</div>
<h2 id="example">Example</h2>
<p>Fetch the business day except the last 5 minutes of trading data, and then update with the missing 5 minutes:</p>
<pre><code class="language-python-repl">&gt;&gt;&gt; import vectorbt as vbt

&gt;&gt;&gt; yf_data = vbt.YFData.download(
...     &quot;TSLA&quot;,
...     start='2021-04-12 09:30:00 -0400',
...     end='2021-04-12 09:35:00 -0400',
...     interval='1m'
... )
&gt;&gt;&gt; yf_data.get())
                                 Open        High         Low       Close  \
Datetime
2021-04-12 13:30:00+00:00  685.080017  685.679993  684.765015  685.679993
2021-04-12 13:31:00+00:00  684.625000  686.500000  684.010010  685.500000
2021-04-12 13:32:00+00:00  685.646790  686.820007  683.190002  686.455017
2021-04-12 13:33:00+00:00  686.455017  687.000000  685.000000  685.565002
2021-04-12 13:34:00+00:00  685.690002  686.400024  683.200012  683.715027

                           Volume  Dividends  Stock Splits
Datetime
2021-04-12 13:30:00+00:00       0          0             0
2021-04-12 13:31:00+00:00  152276          0             0
2021-04-12 13:32:00+00:00  168363          0             0
2021-04-12 13:33:00+00:00  129607          0             0
2021-04-12 13:34:00+00:00  134620          0             0

&gt;&gt;&gt; yf_data = yf_data.update(end='2021-04-12 09:40:00 -0400')
&gt;&gt;&gt; yf_data.get()
                                 Open        High         Low       Close  \
Datetime
2021-04-12 13:30:00+00:00  685.080017  685.679993  684.765015  685.679993
2021-04-12 13:31:00+00:00  684.625000  686.500000  684.010010  685.500000
2021-04-12 13:32:00+00:00  685.646790  686.820007  683.190002  686.455017
2021-04-12 13:33:00+00:00  686.455017  687.000000  685.000000  685.565002
2021-04-12 13:34:00+00:00  685.690002  686.400024  683.200012  683.715027
2021-04-12 13:35:00+00:00  683.604980  684.340027  682.760071  684.135010
2021-04-12 13:36:00+00:00  684.130005  686.640015  683.333984  686.563904
2021-04-12 13:37:00+00:00  686.530029  688.549988  686.000000  686.635010
2021-04-12 13:38:00+00:00  686.593201  689.500000  686.409973  688.179993
2021-04-12 13:39:00+00:00  688.500000  689.347595  687.710022  688.070007

                           Volume  Dividends  Stock Splits
Datetime
2021-04-12 13:30:00+00:00       0          0             0
2021-04-12 13:31:00+00:00  152276          0             0
2021-04-12 13:32:00+00:00  168363          0             0
2021-04-12 13:33:00+00:00  129607          0             0
2021-04-12 13:34:00+00:00       0          0             0
2021-04-12 13:35:00+00:00  110500          0             0
2021-04-12 13:36:00+00:00  148384          0             0
2021-04-12 13:37:00+00:00  243851          0             0
2021-04-12 13:38:00+00:00  203569          0             0
2021-04-12 13:39:00+00:00   93308          0             0
</code></pre></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class YFData(Data):
    &#34;&#34;&#34;`Data` for data coming from `yfinance`.

    Stocks are usually in the timezone &#34;+0500&#34; and cryptocurrencies in UTC.

    !!! warning
        Data coming from Yahoo is not the most stable data out there. Yahoo may manipulate data
        how they want, add noise, return missing data points (see volume in the example below), etc.
        It&#39;s only used in vectorbt for demonstration purposes.

    ## Example

    Fetch the business day except the last 5 minutes of trading data, and then update with the missing 5 minutes:

    ```python-repl
    &gt;&gt;&gt; import vectorbt as vbt

    &gt;&gt;&gt; yf_data = vbt.YFData.download(
    ...     &#34;TSLA&#34;,
    ...     start=&#39;2021-04-12 09:30:00 -0400&#39;,
    ...     end=&#39;2021-04-12 09:35:00 -0400&#39;,
    ...     interval=&#39;1m&#39;
    ... )
    &gt;&gt;&gt; yf_data.get())
                                     Open        High         Low       Close  \\
    Datetime
    2021-04-12 13:30:00+00:00  685.080017  685.679993  684.765015  685.679993
    2021-04-12 13:31:00+00:00  684.625000  686.500000  684.010010  685.500000
    2021-04-12 13:32:00+00:00  685.646790  686.820007  683.190002  686.455017
    2021-04-12 13:33:00+00:00  686.455017  687.000000  685.000000  685.565002
    2021-04-12 13:34:00+00:00  685.690002  686.400024  683.200012  683.715027

                               Volume  Dividends  Stock Splits
    Datetime
    2021-04-12 13:30:00+00:00       0          0             0
    2021-04-12 13:31:00+00:00  152276          0             0
    2021-04-12 13:32:00+00:00  168363          0             0
    2021-04-12 13:33:00+00:00  129607          0             0
    2021-04-12 13:34:00+00:00  134620          0             0

    &gt;&gt;&gt; yf_data = yf_data.update(end=&#39;2021-04-12 09:40:00 -0400&#39;)
    &gt;&gt;&gt; yf_data.get()
                                     Open        High         Low       Close  \\
    Datetime
    2021-04-12 13:30:00+00:00  685.080017  685.679993  684.765015  685.679993
    2021-04-12 13:31:00+00:00  684.625000  686.500000  684.010010  685.500000
    2021-04-12 13:32:00+00:00  685.646790  686.820007  683.190002  686.455017
    2021-04-12 13:33:00+00:00  686.455017  687.000000  685.000000  685.565002
    2021-04-12 13:34:00+00:00  685.690002  686.400024  683.200012  683.715027
    2021-04-12 13:35:00+00:00  683.604980  684.340027  682.760071  684.135010
    2021-04-12 13:36:00+00:00  684.130005  686.640015  683.333984  686.563904
    2021-04-12 13:37:00+00:00  686.530029  688.549988  686.000000  686.635010
    2021-04-12 13:38:00+00:00  686.593201  689.500000  686.409973  688.179993
    2021-04-12 13:39:00+00:00  688.500000  689.347595  687.710022  688.070007

                               Volume  Dividends  Stock Splits
    Datetime
    2021-04-12 13:30:00+00:00       0          0             0
    2021-04-12 13:31:00+00:00  152276          0             0
    2021-04-12 13:32:00+00:00  168363          0             0
    2021-04-12 13:33:00+00:00  129607          0             0
    2021-04-12 13:34:00+00:00       0          0             0
    2021-04-12 13:35:00+00:00  110500          0             0
    2021-04-12 13:36:00+00:00  148384          0             0
    2021-04-12 13:37:00+00:00  243851          0             0
    2021-04-12 13:38:00+00:00  203569          0             0
    2021-04-12 13:39:00+00:00   93308          0             0
    ```
    &#34;&#34;&#34;

    @classmethod
    def download_symbol(cls,
                        symbol: tp.Label,
                        period: str = &#39;max&#39;,
                        start: tp.Optional[tp.DatetimeLike] = None,
                        end: tp.Optional[tp.DatetimeLike] = None,
                        **kwargs) -&gt; tp.Frame:
        &#34;&#34;&#34;Download the symbol.

        Args:
            symbol (str): Symbol.
            period (str): Period.
            start (any): Start datetime.

                See `vectorbt.utils.datetime_.to_tzaware_datetime`.
            end (any): End datetime.

                See `vectorbt.utils.datetime_.to_tzaware_datetime`.
            **kwargs: Keyword arguments passed to `yfinance.base.TickerBase.history`.
        &#34;&#34;&#34;
        import yfinance as yf

        # yfinance still uses mktime, which assumes that the passed date is in local time
        if start is not None:
            start = to_tzaware_datetime(start, tz=get_local_tz())
        if end is not None:
            end = to_tzaware_datetime(end, tz=get_local_tz())

        return yf.Ticker(symbol).history(period=period, start=start, end=end, **kwargs)

    def update_symbol(self, symbol: tp.Label, **kwargs) -&gt; tp.Frame:
        &#34;&#34;&#34;Update the symbol.

        `**kwargs` will override keyword arguments passed to `YFData.download_symbol`.&#34;&#34;&#34;
        download_kwargs = self.select_symbol_kwargs(symbol, self.download_kwargs)
        download_kwargs[&#39;start&#39;] = self.data[symbol].index[-1]
        kwargs = merge_dicts(download_kwargs, kwargs)
        return self.download_symbol(symbol, **kwargs)</code></pre>
</details>
<h3 class="section-subtitle">Ancestors</h3>
<ul class="hlist">
<li><a title="vectorbt.data.base.Data" href="base.html#vectorbt.data.base.Data">Data</a></li>
<li><a title="vectorbt.base.array_wrapper.Wrapping" href="../base/array_wrapper.html#vectorbt.base.array_wrapper.Wrapping">Wrapping</a></li>
<li><a title="vectorbt.utils.config.Configured" href="../utils/config.html#vectorbt.utils.config.Configured">Configured</a></li>
<li><a title="vectorbt.utils.config.Pickleable" href="../utils/config.html#vectorbt.utils.config.Pickleable">Pickleable</a></li>
<li><a title="vectorbt.utils.docs.Documented" href="../utils/docs.html#vectorbt.utils.docs.Documented">Documented</a></li>
<li><a title="vectorbt.base.indexing.PandasIndexer" href="../base/indexing.html#vectorbt.base.indexing.PandasIndexer">PandasIndexer</a></li>
<li><a title="vectorbt.base.indexing.IndexingBase" href="../base/indexing.html#vectorbt.base.indexing.IndexingBase">IndexingBase</a></li>
<li><a title="vectorbt.utils.attr_.AttrResolver" href="../utils/attr_.html#vectorbt.utils.attr_.AttrResolver">AttrResolver</a></li>
<li><a title="vectorbt.generic.stats_builder.StatsBuilderMixin" href="../generic/stats_builder.html#vectorbt.generic.stats_builder.StatsBuilderMixin">StatsBuilderMixin</a></li>
<li><a title="vectorbt.generic.plots_builder.PlotsBuilderMixin" href="../generic/plots_builder.html#vectorbt.generic.plots_builder.PlotsBuilderMixin">PlotsBuilderMixin</a></li>
</ul>
<h3 class="section-subtitle">Static methods</h3>
<dl>
<dt id="vectorbt.data.custom.YFData.download_symbol"><code class="name flex">
<span>def <span class="ident child-name">download_symbol</span></span>(<span class="params">symbol, period='max', start=None, end=None, **kwargs)</span><span class="return_type"></span>
</code></dt>
<dd>
<div class="desc"><p>Download the symbol.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>symbol</code></strong> :&ensp;<code>str</code></dt>
<dd>Symbol.</dd>
<dt><strong><code>period</code></strong> :&ensp;<code>str</code></dt>
<dd>Period.</dd>
<dt><strong><code>start</code></strong> :&ensp;<code>any</code></dt>
<dd>
<p>Start datetime.</p>
<p>See <code><a title="vectorbt.utils.datetime_.to_tzaware_datetime" href="../utils/datetime_.html#vectorbt.utils.datetime_.to_tzaware_datetime">to_tzaware_datetime()</a></code>.</p>
</dd>
<dt><strong><code>end</code></strong> :&ensp;<code>any</code></dt>
<dd>
<p>End datetime.</p>
<p>See <code><a title="vectorbt.utils.datetime_.to_tzaware_datetime" href="../utils/datetime_.html#vectorbt.utils.datetime_.to_tzaware_datetime">to_tzaware_datetime()</a></code>.</p>
</dd>
<dt><strong><code>**kwargs</code></strong></dt>
<dd>Keyword arguments passed to <code>yfinance.base.TickerBase.history</code>.</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@classmethod
def download_symbol(cls,
                    symbol: tp.Label,
                    period: str = &#39;max&#39;,
                    start: tp.Optional[tp.DatetimeLike] = None,
                    end: tp.Optional[tp.DatetimeLike] = None,
                    **kwargs) -&gt; tp.Frame:
    &#34;&#34;&#34;Download the symbol.

    Args:
        symbol (str): Symbol.
        period (str): Period.
        start (any): Start datetime.

            See `vectorbt.utils.datetime_.to_tzaware_datetime`.
        end (any): End datetime.

            See `vectorbt.utils.datetime_.to_tzaware_datetime`.
        **kwargs: Keyword arguments passed to `yfinance.base.TickerBase.history`.
    &#34;&#34;&#34;
    import yfinance as yf

    # yfinance still uses mktime, which assumes that the passed date is in local time
    if start is not None:
        start = to_tzaware_datetime(start, tz=get_local_tz())
    if end is not None:
        end = to_tzaware_datetime(end, tz=get_local_tz())

    return yf.Ticker(symbol).history(period=period, start=start, end=end, **kwargs)</code></pre>
</details>
</dd>
</dl>
<h3 class="section-subtitle">Methods</h3>
<dl>
<dt id="vectorbt.data.custom.YFData.update_symbol"><code class="name flex">
<span>def <span class="ident child-name">update_symbol</span></span>(<span class="params">self, symbol, **kwargs)</span><span class="return_type"></span>
</code></dt>
<dd>
<div class="desc"><p>Update the symbol.</p>
<p><code>**kwargs</code> will override keyword arguments passed to <code><a title="vectorbt.data.custom.YFData.download_symbol" href="#vectorbt.data.custom.YFData.download_symbol">YFData.download_symbol()</a></code>.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def update_symbol(self, symbol: tp.Label, **kwargs) -&gt; tp.Frame:
    &#34;&#34;&#34;Update the symbol.

    `**kwargs` will override keyword arguments passed to `YFData.download_symbol`.&#34;&#34;&#34;
    download_kwargs = self.select_symbol_kwargs(symbol, self.download_kwargs)
    download_kwargs[&#39;start&#39;] = self.data[symbol].index[-1]
    kwargs = merge_dicts(download_kwargs, kwargs)
    return self.download_symbol(symbol, **kwargs)</code></pre>
</details>
</dd>
</dl>
<h3 class="section-subtitle">Inherited members</h3>
<ul class="hlist">
<li><code><b><a title="vectorbt.data.base.Data" href="base.html#vectorbt.data.base.Data">Data</a></b></code>:
<ul class="hlist">
<li><code><a title="vectorbt.data.base.Data.align_columns" href="base.html#vectorbt.data.base.Data.align_columns">align_columns</a></code></li>
<li><code><a title="vectorbt.data.base.Data.align_index" href="base.html#vectorbt.data.base.Data.align_index">align_index</a></code></li>
<li><code><a title="vectorbt.data.base.Data.build_metrics_doc" href="../generic/stats_builder.html#vectorbt.generic.stats_builder.StatsBuilderMixin.build_metrics_doc">build_metrics_doc</a></code></li>
<li><code><a title="vectorbt.data.base.Data.build_subplots_doc" href="../generic/plots_builder.html#vectorbt.generic.plots_builder.PlotsBuilderMixin.build_subplots_doc">build_subplots_doc</a></code></li>
<li><code><a title="vectorbt.data.base.Data.concat" href="base.html#vectorbt.data.base.Data.concat">concat</a></code></li>
<li><code><a title="vectorbt.data.base.Data.config" href="../utils/config.html#vectorbt.utils.config.Configured.config">config</a></code></li>
<li><code><a title="vectorbt.data.base.Data.copy" href="../utils/config.html#vectorbt.utils.config.Configured.copy">copy</a></code></li>
<li><code><a title="vectorbt.data.base.Data.data" href="base.html#vectorbt.data.base.Data.data">data</a></code></li>
<li><code><a title="vectorbt.data.base.Data.deep_getattr" href="../utils/attr_.html#vectorbt.utils.attr_.AttrResolver.deep_getattr">deep_getattr</a></code></li>
<li><code><a title="vectorbt.data.base.Data.download" href="base.html#vectorbt.data.base.Data.download">download</a></code></li>
<li><code><a title="vectorbt.data.base.Data.download_kwargs" href="base.html#vectorbt.data.base.Data.download_kwargs">download_kwargs</a></code></li>
<li><code><a title="vectorbt.data.base.Data.dumps" href="../utils/config.html#vectorbt.utils.config.Pickleable.dumps">dumps</a></code></li>
<li><code><a title="vectorbt.data.base.Data.from_data" href="base.html#vectorbt.data.base.Data.from_data">from_data</a></code></li>
<li><code><a title="vectorbt.data.base.Data.get" href="base.html#vectorbt.data.base.Data.get">get</a></code></li>
<li><code><a title="vectorbt.data.base.Data.iloc" href="../base/indexing.html#vectorbt.base.indexing.PandasIndexer.iloc">iloc</a></code></li>
<li><code><a title="vectorbt.data.base.Data.indexing_func" href="base.html#vectorbt.data.base.Data.indexing_func">indexing_func</a></code></li>
<li><code><a title="vectorbt.data.base.Data.indexing_kwargs" href="../base/indexing.html#vectorbt.base.indexing.PandasIndexer.indexing_kwargs">indexing_kwargs</a></code></li>
<li><code><a title="vectorbt.data.base.Data.load" href="../utils/config.html#vectorbt.utils.config.Pickleable.load">load</a></code></li>
<li><code><a title="vectorbt.data.base.Data.loads" href="../utils/config.html#vectorbt.utils.config.Pickleable.loads">loads</a></code></li>
<li><code><a title="vectorbt.data.base.Data.loc" href="../base/indexing.html#vectorbt.base.indexing.PandasIndexer.loc">loc</a></code></li>
<li><code><a title="vectorbt.data.base.Data.missing_columns" href="base.html#vectorbt.data.base.Data.missing_columns">missing_columns</a></code></li>
<li><code><a title="vectorbt.data.base.Data.missing_index" href="base.html#vectorbt.data.base.Data.missing_index">missing_index</a></code></li>
<li><code><a title="vectorbt.data.base.Data.override_metrics_doc" href="../generic/stats_builder.html#vectorbt.generic.stats_builder.StatsBuilderMixin.override_metrics_doc">override_metrics_doc</a></code></li>
<li><code><a title="vectorbt.data.base.Data.override_subplots_doc" href="../generic/plots_builder.html#vectorbt.generic.plots_builder.PlotsBuilderMixin.override_subplots_doc">override_subplots_doc</a></code></li>
<li><code><a title="vectorbt.data.base.Data.plot" href="base.html#vectorbt.data.base.Data.plot">plot</a></code></li>
<li><code><a title="vectorbt.data.base.Data.plots" href="../generic/plots_builder.html#vectorbt.generic.plots_builder.PlotsBuilderMixin.plots">plots</a></code></li>
<li><code><a title="vectorbt.data.base.Data.plots_defaults" href="base.html#vectorbt.data.base.Data.plots_defaults">plots_defaults</a></code></li>
<li><code><a title="vectorbt.data.base.Data.post_resolve_attr" href="../utils/attr_.html#vectorbt.utils.attr_.AttrResolver.post_resolve_attr">post_resolve_attr</a></code></li>
<li><code><a title="vectorbt.data.base.Data.pre_resolve_attr" href="../utils/attr_.html#vectorbt.utils.attr_.AttrResolver.pre_resolve_attr">pre_resolve_attr</a></code></li>
<li><code><a title="vectorbt.data.base.Data.regroup" href="../base/array_wrapper.html#vectorbt.base.array_wrapper.Wrapping.regroup">regroup</a></code></li>
<li><code><a title="vectorbt.data.base.Data.replace" href="../utils/config.html#vectorbt.utils.config.Configured.replace">replace</a></code></li>
<li><code><a title="vectorbt.data.base.Data.resolve_attr" href="../utils/attr_.html#vectorbt.utils.attr_.AttrResolver.resolve_attr">resolve_attr</a></code></li>
<li><code><a title="vectorbt.data.base.Data.resolve_self" href="../base/array_wrapper.html#vectorbt.base.array_wrapper.Wrapping.resolve_self">resolve_self</a></code></li>
<li><code><a title="vectorbt.data.base.Data.save" href="../utils/config.html#vectorbt.utils.config.Pickleable.save">save</a></code></li>
<li><code><a title="vectorbt.data.base.Data.select_one" href="../base/array_wrapper.html#vectorbt.base.array_wrapper.Wrapping.select_one">select_one</a></code></li>
<li><code><a title="vectorbt.data.base.Data.select_one_from_obj" href="../base/array_wrapper.html#vectorbt.base.array_wrapper.Wrapping.select_one_from_obj">select_one_from_obj</a></code></li>
<li><code><a title="vectorbt.data.base.Data.select_symbol_kwargs" href="base.html#vectorbt.data.base.Data.select_symbol_kwargs">select_symbol_kwargs</a></code></li>
<li><code><a title="vectorbt.data.base.Data.self_aliases" href="../utils/attr_.html#vectorbt.utils.attr_.AttrResolver.self_aliases">self_aliases</a></code></li>
<li><code><a title="vectorbt.data.base.Data.stats" href="../generic/stats_builder.html#vectorbt.generic.stats_builder.StatsBuilderMixin.stats">stats</a></code></li>
<li><code><a title="vectorbt.data.base.Data.stats_defaults" href="base.html#vectorbt.data.base.Data.stats_defaults">stats_defaults</a></code></li>
<li><code><a title="vectorbt.data.base.Data.symbols" href="base.html#vectorbt.data.base.Data.symbols">symbols</a></code></li>
<li><code><a title="vectorbt.data.base.Data.to_doc" href="../utils/docs.html#vectorbt.utils.docs.Documented.to_doc">to_doc</a></code></li>
<li><code><a title="vectorbt.data.base.Data.tz_convert" href="base.html#vectorbt.data.base.Data.tz_convert">tz_convert</a></code></li>
<li><code><a title="vectorbt.data.base.Data.tz_localize" href="base.html#vectorbt.data.base.Data.tz_localize">tz_localize</a></code></li>
<li><code><a title="vectorbt.data.base.Data.update" href="base.html#vectorbt.data.base.Data.update">update</a></code></li>
<li><code><a title="vectorbt.data.base.Data.update_config" href="../utils/config.html#vectorbt.utils.config.Configured.update_config">update_config</a></code></li>
<li><code><a title="vectorbt.data.base.Data.wrapper" href="../base/array_wrapper.html#vectorbt.base.array_wrapper.Wrapping.wrapper">wrapper</a></code></li>
<li><code><a title="vectorbt.data.base.Data.writeable_attrs" href="../utils/config.html#vectorbt.utils.config.Configured.writeable_attrs">writeable_attrs</a></code></li>
<li><code><a title="vectorbt.data.base.Data.xs" href="../base/indexing.html#vectorbt.base.indexing.PandasIndexer.xs">xs</a></code></li>
</ul>
</li>
</ul>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<header>
<a class="homelink" rel="home" title="pdoc Home" href="https://github.com/polakowo/vectorbt">
<img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDI1LjAuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkNhcGFfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiCgkgdmlld0JveD0iMCAwIDUxMiA1MTIiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDUxMiA1MTI7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPHN0eWxlIHR5cGU9InRleHQvY3NzIj4KCS5zdDB7ZmlsbDojRUYwMDAwO30KCS5zdDF7ZmlsbDojRkY5MDAwO30KCS5zdDJ7ZmlsbDojRkZERjAwO30KCS5zdDN7ZmlsbDojMjgyQzM0O30KPC9zdHlsZT4KPGc+Cgk8Zz4KCQk8Zz4KCQkJPHBvbHlnb24gY2xhc3M9InN0MCIgcG9pbnRzPSIxNTUuMywzMDAuMSAyODMuMSwwIDIwOCwwIDExMC44LDAgMzUuOCwwIDEuMiw0NTAuMiA3Ni4zLDQ1MC4yIAkJCSIvPgoJCTwvZz4KCTwvZz4KCTxnPgoJCTxnPgoJCQk8cG9seWdvbiBjbGFzcz0ic3QxIiBwb2ludHM9IjIzMC40LDMwMC4xIDM1OC4xLDAgMjgzLjEsMCAxODUuOCwwIDExMC44LDAgNzYuMyw0NTAuMiAxNTEuMyw0NTAuMiAJCQkiLz4KCQk8L2c+Cgk8L2c+Cgk8Zz4KCQk8Zz4KCQkJPHBvbHlnb24gY2xhc3M9InN0MiIgcG9pbnRzPSIzMDUuNCwzMDAuMSA0MzMuMSwwIDM1OC4xLDAgMzMxLjYsNjIuMyAyNjAuOCwwIDE4NS44LDAgMTUxLjMsNDUwLjIgMjI2LjQsNDUwLjIgCQkJIi8+CgkJPC9nPgoJPC9nPgoJPGc+CgkJPGc+CgkJCTxwb2x5Z29uIGNsYXNzPSJzdDMiIHBvaW50cz0iNTEwLjgsMCA0MzMuMSwwIDMwNS40LDMwMC4xIDMzOC40LDAgMjYwLjgsMCAyMjYuNCw0NTAuMiAzMDQsNDUwLjIgCQkJIi8+CgkJPC9nPgoJPC9nPgo8L2c+Cjwvc3ZnPgo="/>
vectorbt <span class="version">0.23.0</span></a>
</header>
<div class="search-container" id="docsearch"></div>
<div class="scrollable-index">
<h1 class="index-caption">Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="vectorbt.data" href="index.html">vectorbt.data</a></code></li>
</ul>
</li>
<li><h3><a href="#header-functions">Functions</a></h3>
<ul class="">
<li><code><a title="vectorbt.data.custom.generate_gbm_paths" href="#vectorbt.data.custom.generate_gbm_paths">generate_gbm_paths</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="vectorbt.data.custom.AlpacaData" href="#vectorbt.data.custom.AlpacaData">AlpacaData</a></code></h4>
<ul class="">
<li><code><a title="vectorbt.data.custom.AlpacaData.download_symbol" href="#vectorbt.data.custom.AlpacaData.download_symbol">download_symbol</a></code></li>
<li><code><a title="vectorbt.data.custom.AlpacaData.update_symbol" href="#vectorbt.data.custom.AlpacaData.update_symbol">update_symbol</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="vectorbt.data.custom.BinanceData" href="#vectorbt.data.custom.BinanceData">BinanceData</a></code></h4>
<ul class="">
<li><code><a title="vectorbt.data.custom.BinanceData.download" href="#vectorbt.data.custom.BinanceData.download">download</a></code></li>
<li><code><a title="vectorbt.data.custom.BinanceData.download_symbol" href="#vectorbt.data.custom.BinanceData.download_symbol">download_symbol</a></code></li>
<li><code><a title="vectorbt.data.custom.BinanceData.update_symbol" href="#vectorbt.data.custom.BinanceData.update_symbol">update_symbol</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="vectorbt.data.custom.CCXTData" href="#vectorbt.data.custom.CCXTData">CCXTData</a></code></h4>
<ul class="">
<li><code><a title="vectorbt.data.custom.CCXTData.download_symbol" href="#vectorbt.data.custom.CCXTData.download_symbol">download_symbol</a></code></li>
<li><code><a title="vectorbt.data.custom.CCXTData.update_symbol" href="#vectorbt.data.custom.CCXTData.update_symbol">update_symbol</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="vectorbt.data.custom.GBMData" href="#vectorbt.data.custom.GBMData">GBMData</a></code></h4>
<ul class="">
<li><code><a title="vectorbt.data.custom.GBMData.generate_symbol" href="#vectorbt.data.custom.GBMData.generate_symbol">generate_symbol</a></code></li>
<li><code><a title="vectorbt.data.custom.GBMData.update_symbol" href="#vectorbt.data.custom.GBMData.update_symbol">update_symbol</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="vectorbt.data.custom.SyntheticData" href="#vectorbt.data.custom.SyntheticData">SyntheticData</a></code></h4>
<ul class="">
<li><code><a title="vectorbt.data.custom.SyntheticData.download_symbol" href="#vectorbt.data.custom.SyntheticData.download_symbol">download_symbol</a></code></li>
<li><code><a title="vectorbt.data.custom.SyntheticData.generate_symbol" href="#vectorbt.data.custom.SyntheticData.generate_symbol">generate_symbol</a></code></li>
<li><code><a title="vectorbt.data.custom.SyntheticData.update_symbol" href="#vectorbt.data.custom.SyntheticData.update_symbol">update_symbol</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="vectorbt.data.custom.YFData" href="#vectorbt.data.custom.YFData">YFData</a></code></h4>
<ul class="">
<li><code><a title="vectorbt.data.custom.YFData.download_symbol" href="#vectorbt.data.custom.YFData.download_symbol">download_symbol</a></code></li>
<li><code><a title="vectorbt.data.custom.YFData.update_symbol" href="#vectorbt.data.custom.YFData.update_symbol">update_symbol</a></code></li>
</ul>
</li>
</ul>
</li>
</nav>
</main>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.2/highlight.min.js"></script>
<script>hljs.highlightAll();</script>
<script src="https://cdn.jsdelivr.net/npm/@docsearch/js@alpha"></script>
<script type="text/javascript">
docsearch({
container: '#docsearch',
appId: 'KNQTBBHKVB',
indexName: 'vectorbt',
apiKey: 'a945e6e8f1cb2fdc30e936936aa3307b',
});
</script>
<script src="https://buttons.github.io/buttons.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script>
<script>
// Turn off ESLint for this file because it's sent down to users as-is.
/* eslint-disable */
window.addEventListener('load', function() {
function button(label, ariaLabel, icon, className) {
const btn = document.createElement('button');
btn.classList.add('btnIcon', className);
btn.setAttribute('type', 'button');
btn.setAttribute('aria-label', ariaLabel);
btn.innerHTML =
'<div class="btnIcon__body">' +
icon +
'<strong class="btnIcon__label">' +
label +
'</strong>' +
'</div>';
return btn;
}
function addButtons(codeBlockSelector, btn) {
document.querySelectorAll(codeBlockSelector).forEach(function(code) {
code.parentNode.appendChild(btn.cloneNode(true));
});
}
const copyIcon =
'<svg width="12" height="12" viewBox="340 364 14 15" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M342 375.974h4v.998h-4v-.998zm5-5.987h-5v.998h5v-.998zm2 2.994v-1.995l-3 2.993 3 2.994v-1.996h5v-1.995h-5zm-4.5-.997H342v.998h2.5v-.997zm-2.5 2.993h2.5v-.998H342v.998zm9 .998h1v1.996c-.016.28-.11.514-.297.702-.187.187-.422.28-.703.296h-10c-.547 0-1-.452-1-.998v-10.976c0-.546.453-.998 1-.998h3c0-1.107.89-1.996 2-1.996 1.11 0 2 .89 2 1.996h3c.547 0 1 .452 1 .998v4.99h-1v-2.995h-10v8.98h10v-1.996zm-9-7.983h8c0-.544-.453-.996-1-.996h-1c-.547 0-1-.453-1-.998 0-.546-.453-.998-1-.998-.547 0-1 .452-1 .998 0 .545-.453.998-1 .998h-1c-.547 0-1 .452-1 .997z" fill-rule="evenodd"/></svg>';
addButtons(
'.hljs',
button('Copy', 'Copy code to clipboard', copyIcon, 'btnClipboard'),
);
const clipboard = new ClipboardJS('.btnClipboard', {
target: function(trigger) {
return trigger.parentNode.querySelector('code');
},
});
clipboard.on('success', function(event) {
event.clearSelection();
const textEl = event.trigger.querySelector('.btnIcon__label');
textEl.textContent = 'Copied';
setTimeout(function() {
textEl.textContent = 'Copy';
}, 2000);
});
});
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ==" crossorigin="anonymous"></script>
<script>
$(document).ready(function() {
$("article dt[id], #section-intro [id]").each(function() {
const thisId = $(this).attr('id');
$(this).wrap('<a class="headerlink" href="#' + thisId + '">');
});
});
</script>
</body>
</html>